# FastGPT Promptç®¡ç†åˆ†ææ–‡æ¡£

## ğŸ“‹ æ–‡æ¡£æ¦‚è¿°

æœ¬ç›®å½•åŒ…å«å¯¹FastGPT promptç®¡ç†åŠŸèƒ½çš„æ·±å…¥åˆ†æ,åŒ…æ‹¬æ¶æ„è®¾è®¡ã€ä½¿ç”¨æµç¨‹ã€æœ€ä½³å®è·µç­‰ã€‚

## ğŸ“ æ–‡æ¡£ç»“æ„

### 1. æ ¸å¿ƒåˆ†ææ–‡æ¡£

#### [prompt-management-analysis.md](./prompt-management-analysis.md) 
**ä¸»æ–‡æ¡£** - åŒ…å«å®Œæ•´çš„Promptç®¡ç†åˆ†æ

#### [third-party-integration-analysis.md](./third-party-integration-analysis.md)
**ç¬¬ä¸‰æ–¹é›†æˆåˆ†æ** - åˆ†æFastGPTæ˜¯å¦æ”¯æŒé›†æˆç¬¬ä¸‰æ–¹promptç®¡ç†å¹³å°(å¦‚LangFuseã€LangSmithç­‰)

**å†…å®¹ç« èŠ‚:**
- ç¬¬ä¸€ç« : æ¦‚è¿° - FastGPTçš„Promptç®¡ç†ç†å¿µ
- ç¬¬äºŒç« : Promptç»„ç»‡æ¶æ„ - æ–‡ä»¶ç»“æ„ä¸ç±»å‹å®šä¹‰
- ç¬¬ä¸‰ç« : å„ç±»Promptè¯¦è§£ - Agent/Chat/Dataset Promptè¯¦ç»†è¯´æ˜
- ç¬¬å››ç« : Promptåœ¨å·¥ä½œæµä¸­çš„åº”ç”¨ - é…ç½®ä¸ä½¿ç”¨
- ç¬¬äº”ç« : UIç»„ä»¶ - PromptTemplateä¸PromptEditor
- ç¬¬å…­ç« : è‡ªå®šä¹‰Promptæ”¯æŒ - åº”ç”¨å±‚ä¸æ•°æ®é›†è®­ç»ƒ
- ç¬¬ä¸ƒç« : ç‰ˆæœ¬ç®¡ç†æœºåˆ¶ - è¯­ä¹‰åŒ–ç‰ˆæœ¬ä¸å…¼å®¹ç­–ç•¥
- ç¬¬å…«ç« : Promptå˜é‡æ›¿æ¢æœºåˆ¶ - replaceVariableå‡½æ•°è¯¦è§£
- ç¬¬ä¹ç« : å·¥å…·è°ƒç”¨ä¸­çš„Prompt - å·¥å…·Promptæ¨¡æ¿
- ç¬¬åç« : Promptç®¡ç†ç‰¹ç‚¹æ€»ç»“ - ä¼˜ç‚¹ä¸å±€é™æ€§
- ç¬¬åä¸€ç« : Promptæœ€ä½³å®è·µå»ºè®® - ç³»ç»Ÿå¼€å‘è€…ä¸åº”ç”¨å¼€å‘è€…æŒ‡å—
- ç¬¬åäºŒç« : æœªæ¥å¯èƒ½çš„æ”¹è¿›æ–¹å‘ - çŸ­æœŸä¸é•¿æœŸæ”¹è¿›å»ºè®®
- ç¬¬åä¸‰ç« : ç»“è®º - æ€»ä½“è¯„ä»·

**æ–‡æ¡£ç‰¹ç‚¹:**
- âœ… 15000+ å­—æ·±åº¦åˆ†æ
- âœ… ä»£ç ç¤ºä¾‹ä¸°å¯Œ
- âœ… åŒ…å«æœ€ä½³å®è·µ
- âœ… æä¾›æ”¹è¿›å»ºè®®

**ç¬¬ä¸‰æ–¹é›†æˆåˆ†ææ–‡æ¡£å†…å®¹**:
- ç¬¬ä¸€ç« : æ ¸å¿ƒé—®é¢˜ - æ˜¯å¦æ”¯æŒLangFuseç­‰ç¬¬ä¸‰æ–¹å¹³å°
- ç¬¬äºŒç« : æŠ€æœ¯è°ƒæŸ¥ç»“æœ - ä»£ç æœç´¢å’Œç°æœ‰æœºåˆ¶åˆ†æ
- ç¬¬ä¸‰ç« : FastGPTç°æœ‰Promptç®¡ç†èƒ½åŠ›æ€»ç»“
- ç¬¬å››ç« : é›†æˆç¬¬ä¸‰æ–¹å¹³å°çš„å¯èƒ½æ–¹æ¡ˆ(4ç§æ–¹æ¡ˆè¯¦è§£)
- ç¬¬äº”ç« : æ¨èæ–¹æ¡ˆå¯¹æ¯”
- ç¬¬å…­ç« : å…·ä½“å®ç°LangFuseé›†æˆç¤ºä¾‹(å®Œæ•´ä»£ç )
- ç¬¬ä¸ƒç« : ç›‘æ§å’Œè¿½è¸ªé›†æˆ
- ç¬¬å…«ç« : æ€»ç»“ä¸å»ºè®®
- ç¬¬ä¹ç« : å‚è€ƒèµ„æº

**ç¬¬ä¸‰æ–¹é›†æˆæ–‡æ¡£ç‰¹ç‚¹**:
- âœ… 10000+ å­—æ·±åº¦æŠ€æœ¯åˆ†æ
- âœ… 4ç§é›†æˆæ–¹æ¡ˆè¯¦è§£
- âœ… å®Œæ•´çš„LangFuseé›†æˆä»£ç ç¤ºä¾‹
- âœ… æŠ€æœ¯å¯è¡Œæ€§è¯„ä¼°
- âœ… å®æ–½å»ºè®®å’Œæ›¿ä»£æ–¹æ¡ˆ

### 2. æ¶æ„å›¾

#### [prompt-architecture.puml](./prompt-architecture.puml)
**PlantUMLç»„ä»¶å›¾** - å±•ç¤ºPromptç®¡ç†çš„æ•´ä½“æ¶æ„

**åŒ…å«å±‚çº§:**
- ğŸ“¦ Promptä»£ç å±‚ - agent.ts, AIChat.ts, dataset.ts, utils.ts
- ğŸ“¦ å·¥ä½œæµé…ç½®å±‚ - AiChatèŠ‚ç‚¹é…ç½®, åº”ç”¨é…ç½®
- ğŸ“¦ UIç»„ä»¶å±‚ - PromptTemplateç»„ä»¶, PromptEditorç»„ä»¶, SettingQuotePrompt
- ğŸ“¦ è¿è¡Œæ—¶å¤„ç†å±‚ - å·¥ä½œæµè°ƒåº¦, LLMè°ƒç”¨
- ğŸ“¦ ç‰ˆæœ¬ç®¡ç† - ç‰ˆæœ¬é€‰æ‹©å™¨

**å…³ç³»å±•ç¤º:**
- ç»„ä»¶é—´çš„ä¾èµ–å…³ç³»
- æ•°æ®æµåŠ¨æ–¹å‘
- ç‰ˆæœ¬ç®¡ç†æœºåˆ¶

### 3. æ—¶åºå›¾

#### [prompt-usage-sequence.puml](./prompt-usage-sequence.puml)
**PlantUMLæ—¶åºå›¾** - å±•ç¤ºPromptä»é…ç½®åˆ°ä½¿ç”¨çš„å®Œæ•´æµç¨‹

**é˜¶æ®µåˆ’åˆ†:**

**é…ç½®é˜¶æ®µ:**
1. ç”¨æˆ·ç¼–è¾‘AI ChatèŠ‚ç‚¹
2. è·å–é¢„å®šä¹‰æ¨¡æ¿
3. é€‰æ‹©è§’è‰²(System/User)
4. è‡ªå®šä¹‰å¼•ç”¨æ¨¡æ¿å’ŒPrompt
5. ä¿å­˜é…ç½®

**è¿è¡Œæ—¶é˜¶æ®µ:**
1. æ•°æ®é›†å¼•ç”¨å¤„ç†
   - è·å–quoteTemplateé…ç½®
   - ä½¿ç”¨é»˜è®¤æ¨¡æ¿æˆ–è‡ªå®šä¹‰æ¨¡æ¿
   - ç‰ˆæœ¬é€‰æ‹©
   - å˜é‡æ›¿æ¢(id, q, a, source, updateTime, index)
   
2. æ¶ˆæ¯ç»„è£…
   - è·å–aiChatQuoteRoleå’ŒaiChatQuotePrompté…ç½®
   - ä½¿ç”¨é»˜è®¤Promptæˆ–è‡ªå®šä¹‰Prompt
   - å˜é‡æ›¿æ¢(quote, question)
   - æ ¹æ®è§’è‰²æ³¨å…¥åˆ°ç³»ç»Ÿæ¶ˆæ¯æˆ–ç”¨æˆ·æ¶ˆæ¯
   
3. LLMè°ƒç”¨
   - å‘é€å®Œæ•´messages
   - ç”Ÿæˆå“åº”

## ğŸ¯ å¿«é€Ÿå¯¼èˆª

### æŒ‰ä½¿ç”¨è§’è‰²å¯¼èˆª

#### ğŸ‘¨â€ğŸ’» ç³»ç»Ÿå¼€å‘è€…
å¦‚æœä½ æ˜¯FastGPTçš„æ ¸å¿ƒå¼€å‘è€…,éœ€è¦æ·»åŠ æˆ–ä¿®æ”¹ç³»ç»Ÿçº§Prompt:

1. ğŸ“– é˜…è¯»: [ç¬¬ä¸‰ç«  - å„ç±»Promptè¯¦è§£](./prompt-management-analysis.md#ä¸‰å„ç±»promptè¯¦è§£)
2. ğŸ“– é˜…è¯»: [ç¬¬åä¸€ç«  11.1 - ç³»ç»Ÿå¼€å‘è€…æœ€ä½³å®è·µ](./prompt-management-analysis.md#111-ç³»ç»Ÿå¼€å‘è€…)
3. ğŸ–¼ï¸ å‚è€ƒ: [prompt-architecture.puml](./prompt-architecture.puml) - äº†è§£ä»£ç ç»“æ„
4. ğŸ“ å®è·µ: åœ¨ `packages/global/core/ai/prompt/` ç›®å½•ä¸‹æ·»åŠ æ–°Prompt

**å…³é”®è¦ç‚¹:**
- âœ… ä½¿ç”¨TypeScriptå®šä¹‰Prompt
- âœ… æ”¯æŒå¤šç‰ˆæœ¬ç®¡ç†
- âœ… éµå¾ªå‘½åè§„èŒƒ
- âœ… æ·»åŠ å®Œæ•´çš„ç±»å‹å®šä¹‰

#### ğŸ› ï¸ åº”ç”¨å¼€å‘è€…
å¦‚æœä½ æ˜¯åŸºäºFastGPTå¼€å‘åº”ç”¨çš„å¼€å‘è€…,éœ€è¦è‡ªå®šä¹‰Prompt:

1. ğŸ“– é˜…è¯»: [ç¬¬å››ç«  - Promptåœ¨å·¥ä½œæµä¸­çš„åº”ç”¨](./prompt-management-analysis.md#å››promptåœ¨å·¥ä½œæµä¸­çš„åº”ç”¨)
2. ğŸ“– é˜…è¯»: [ç¬¬åä¸€ç«  11.2 - åº”ç”¨å¼€å‘è€…æœ€ä½³å®è·µ](./prompt-management-analysis.md#112-åº”ç”¨å¼€å‘è€…)
3. ğŸ–¼ï¸ å‚è€ƒ: [prompt-usage-sequence.puml](./prompt-usage-sequence.puml) - äº†è§£é…ç½®æµç¨‹
4. ğŸ“ å®è·µ: åœ¨å·¥ä½œæµUIä¸­ç¼–è¾‘AI ChatèŠ‚ç‚¹çš„Prompté…ç½®

**å…³é”®è¦ç‚¹:**
- âœ… ä¼˜å…ˆä½¿ç”¨é¢„å®šä¹‰æ¨¡æ¿
- âœ… æ­£ç¡®ä½¿ç”¨å˜é‡æ›¿æ¢
- âœ… é€‰æ‹©åˆé€‚çš„è§’è‰²(System/User)
- âœ… æµ‹è¯•Promptæ•ˆæœ

#### ğŸ” ç ”ç©¶è€…/æ¶æ„å¸ˆ
å¦‚æœä½ éœ€è¦äº†è§£FastGPTçš„Promptç®¡ç†æ¶æ„è®¾è®¡:

1. ğŸ“– é˜…è¯»: [ç¬¬ä¸€ç«  - æ¦‚è¿°](./prompt-management-analysis.md#ä¸€æ¦‚è¿°)
2. ğŸ“– é˜…è¯»: [ç¬¬äºŒç«  - Promptç»„ç»‡æ¶æ„](./prompt-management-analysis.md#äºŒpromptç»„ç»‡æ¶æ„)
3. ğŸ“– é˜…è¯»: [ç¬¬åç«  - Promptç®¡ç†ç‰¹ç‚¹æ€»ç»“](./prompt-management-analysis.md#åpromptç®¡ç†ç‰¹ç‚¹æ€»ç»“)
4. ğŸ–¼ï¸ å‚è€ƒ: [prompt-architecture.puml](./prompt-architecture.puml) - æ•´ä½“æ¶æ„
5. ğŸ“– é˜…è¯»: [ç¬¬åäºŒç«  - æœªæ¥å¯èƒ½çš„æ”¹è¿›æ–¹å‘](./prompt-management-analysis.md#åäºŒæœªæ¥å¯èƒ½çš„æ”¹è¿›æ–¹å‘)

### æŒ‰åŠŸèƒ½éœ€æ±‚å¯¼èˆª

#### ğŸ“ äº†è§£Promptç±»å‹
**ç›®æ ‡**: äº†è§£FastGPTæ”¯æŒå“ªäº›ç±»å‹çš„Prompt

**é˜…è¯»è·¯å¾„**:
1. [ç¬¬ä¸‰ç«  3.1 - Agent Prompt](./prompt-management-analysis.md#31-agent-prompt-agentts)
2. [ç¬¬ä¸‰ç«  3.2 - AI Chat Prompt](./prompt-management-analysis.md#32-ai-chat-prompt-aichattts)
3. [ç¬¬ä¸‰ç«  3.3 - Dataset Prompt](./prompt-management-analysis.md#33-dataset-prompt-datasetts)

**Promptåˆ†ç±»**:
- ğŸ¤– Agent Prompt: å‚æ•°æå–ã€å·¥å…·è°ƒç”¨ã€åˆ†ç±»ã€é—®é¢˜å¼•å¯¼
- ğŸ’¬ Chat Prompt: å¼•ç”¨æ¨¡æ¿ã€å¼•ç”¨Promptã€æ–‡æ¡£å¼•ç”¨
- ğŸ“š Dataset Prompt: æ•°æ®é›†æœç´¢å“åº”

#### ğŸ”„ äº†è§£ç‰ˆæœ¬ç®¡ç†
**ç›®æ ‡**: äº†è§£Promptå¦‚ä½•æ”¯æŒå¤šç‰ˆæœ¬å¹¶å­˜

**é˜…è¯»è·¯å¾„**:
1. [ç¬¬ä¸ƒç«  - ç‰ˆæœ¬ç®¡ç†æœºåˆ¶](./prompt-management-analysis.md#ä¸ƒç‰ˆæœ¬ç®¡ç†æœºåˆ¶)
2. [ç¬¬ä¸‰ç«  3.4 - Promptå·¥å…·å‡½æ•°](./prompt-management-analysis.md#34-promptå·¥å…·å‡½æ•°-utilsts)

**ç‰ˆæœ¬ç®¡ç†ç‰¹æ€§**:
- ğŸ“Œ è¯­ä¹‰åŒ–ç‰ˆæœ¬å·(major.minor.patch)
- ğŸ”„ è‡ªåŠ¨ç‰ˆæœ¬æ’åº
- â¬‡ï¸ ç‰ˆæœ¬å›é€€æœºåˆ¶
- ğŸ”€ å¤šç‰ˆæœ¬å¹¶å­˜

#### ğŸ¨ äº†è§£è‡ªå®šä¹‰Prompt
**ç›®æ ‡**: äº†è§£å¦‚ä½•è‡ªå®šä¹‰å’Œä½¿ç”¨Prompt

**é˜…è¯»è·¯å¾„**:
1. [ç¬¬å››ç«  4.2 - å·¥ä½œæµUIä¸­çš„Promptç¼–è¾‘](./prompt-management-analysis.md#42-å·¥ä½œæµuiä¸­çš„promptç¼–è¾‘)
2. [ç¬¬å…­ç«  - è‡ªå®šä¹‰Promptæ”¯æŒ](./prompt-management-analysis.md#å…­è‡ªå®šä¹‰promptæ”¯æŒ)
3. [ç¬¬å…«ç«  - Promptå˜é‡æ›¿æ¢æœºåˆ¶](./prompt-management-analysis.md#å…«promptå˜é‡æ›¿æ¢æœºåˆ¶)
4. ğŸ–¼ï¸ å‚è€ƒ: [prompt-usage-sequence.puml](./prompt-usage-sequence.puml)

**è‡ªå®šä¹‰æ”¯æŒ**:
- âœï¸ UIç¼–è¾‘å™¨: PromptEditorç»„ä»¶
- ğŸ“‹ æ¨¡æ¿é€‰æ‹©: PromptTemplateç»„ä»¶
- ğŸ”¤ å˜é‡æ›¿æ¢: {{variableName}} è¯­æ³•
- ğŸ’¾ é…ç½®å­˜å‚¨: å·¥ä½œæµèŠ‚ç‚¹é…ç½®

#### ğŸš€ äº†è§£è¿è¡Œæ—¶æœºåˆ¶
**ç›®æ ‡**: äº†è§£Promptåœ¨è¿è¡Œæ—¶å¦‚ä½•è¢«å¤„ç†å’Œä½¿ç”¨

**é˜…è¯»è·¯å¾„**:
1. [ç¬¬å››ç«  4.3 - Promptè¿è¡Œæ—¶å¤„ç†](./prompt-management-analysis.md#43-promptè¿è¡Œæ—¶å¤„ç†)
2. [ç¬¬å…«ç«  - Promptå˜é‡æ›¿æ¢æœºåˆ¶](./prompt-management-analysis.md#å…«promptå˜é‡æ›¿æ¢æœºåˆ¶)
3. ğŸ–¼ï¸ å‚è€ƒ: [prompt-usage-sequence.puml](./prompt-usage-sequence.puml)

**è¿è¡Œæ—¶æµç¨‹**:
1. ğŸ” è·å–é…ç½®: è¯»å–ç”¨æˆ·è‡ªå®šä¹‰æˆ–ä½¿ç”¨é»˜è®¤
2. ğŸ“¦ ç‰ˆæœ¬é€‰æ‹©: getPromptByVersionå¤„ç†
3. ğŸ”„ å˜é‡æ›¿æ¢: replaceVariableå¤„ç†
4. ğŸ“ æ¶ˆæ¯ç»„è£…: æ ¹æ®è§’è‰²æ³¨å…¥
5. ğŸš€ LLMè°ƒç”¨: å‘é€æœ€ç»ˆPrompt

#### ğŸ”Œ äº†è§£ç¬¬ä¸‰æ–¹å¹³å°é›†æˆ
**ç›®æ ‡**: äº†è§£å¦‚ä½•é›†æˆLangFuseã€LangSmithç­‰ç¬¬ä¸‰æ–¹promptç®¡ç†å¹³å°

**é˜…è¯»è·¯å¾„**:
1. ğŸ“– é˜…è¯»: [ç¬¬ä¸‰æ–¹é›†æˆåˆ†æå®Œæ•´æ–‡æ¡£](./third-party-integration-analysis.md)
2. ğŸ“– é‡ç‚¹: [ç¬¬å››ç«  - å››ç§é›†æˆæ–¹æ¡ˆ](./third-party-integration-analysis.md#å››é›†æˆç¬¬ä¸‰æ–¹promptç®¡ç†å¹³å°çš„å¯èƒ½æ–¹æ¡ˆ)
3. ğŸ“– å®æˆ˜: [ç¬¬å…­ç«  - LangFuseé›†æˆç¤ºä¾‹](./third-party-integration-analysis.md#å…­å…·ä½“å®ç°langfuseé›†æˆç¤ºä¾‹)

**æ ¸å¿ƒå‘ç°**:
- âŒ FastGPTç›®å‰ä¸æ”¯æŒç¬¬ä¸‰æ–¹promptå¹³å°ç›´æ¥é›†æˆ
- âœ… æœ‰ç°æˆçš„`externalProvider`æœºåˆ¶å¯ä»¥æ‰©å±•
- ğŸ”§ æä¾›4ç§å¯è¡Œçš„é›†æˆæ–¹æ¡ˆ
- ğŸ’» åŒ…å«å®Œæ•´çš„LangFuseé›†æˆä»£ç ç¤ºä¾‹
- ğŸ“Š æŠ€æœ¯å¯è¡Œæ€§è¯„ä¼°å’Œå®æ–½å»ºè®®

## ğŸ“Š æ ¸å¿ƒæ¦‚å¿µé€ŸæŸ¥

### Promptç±»å‹ä¸€è§ˆè¡¨

| Promptç±»å‹ | æ–‡ä»¶ | ä¸»è¦å‡½æ•°/å¸¸é‡ | ç”¨é€” |
|-----------|------|-------------|------|
| å‚æ•°æå– | agent.ts | `getExtractJsonPrompt` | ä»ç”¨æˆ·è¾“å…¥æå–JSONå‚æ•° |
| å·¥å…·è°ƒç”¨ | agent.ts | `getExtractJsonToolPrompt` | ä¸ºfunction callingç”Ÿæˆå‚æ•° |
| åˆ†ç±» | agent.ts | `getCQSystemPrompt` | å¯¹ç”¨æˆ·é—®é¢˜è¿›è¡Œåˆ†ç±» |
| é—®é¢˜å¼•å¯¼ | agent.ts | `QuestionGuidePrompt` | ç”Ÿæˆå¼•å¯¼æ€§é—®é¢˜ |
| ç”¨æˆ·å¼•ç”¨ | AIChat.ts | `Prompt_userQuotePromptList` | ç”¨æˆ·è§’è‰²çš„å¼•ç”¨Promptæ¨¡æ¿ |
| ç³»ç»Ÿå¼•ç”¨ | AIChat.ts | `Prompt_systemQuotePromptList` | ç³»ç»Ÿè§’è‰²çš„å¼•ç”¨Promptæ¨¡æ¿ |
| å¼•ç”¨æ¨¡æ¿ | AIChat.ts | `Prompt_QuoteTemplateList` | æ ¼å¼åŒ–å¼•ç”¨å†…å®¹çš„æ¨¡æ¿ |
| æ–‡æ¡£å¼•ç”¨ | AIChat.ts | `getDocumentQuotePrompt` | å·¥å…·è°ƒç”¨ä¸­çš„æ–‡æ¡£å¼•ç”¨ |
| æ•°æ®é›†æœç´¢ | dataset.ts | `getDatasetSearchToolResponsePrompt` | æ•°æ®é›†æœç´¢å·¥å…·å“åº” |

### å˜é‡ä¸€è§ˆè¡¨

#### æ•°æ®é›†å¼•ç”¨æ¨¡æ¿å˜é‡

| å˜é‡å | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|-------|------|-------|
| `{{id}}` | å¼•ç”¨æ•°æ®å—ID | "67e517e74767063e882d6861" |
| `{{q}}` | é—®é¢˜ | "ä»€ä¹ˆæ˜¯Nginx?" |
| `{{a}}` | ç­”æ¡ˆ | "Nginxæ˜¯ä¸€æ¬¾è½»é‡çº§çš„WebæœåŠ¡å™¨..." |
| `{{source}}` | æ•°æ®æºåç§° | "æŠ€æœ¯æ–‡æ¡£" |
| `{{sourceId}}` | æ•°æ®æºID | "dataset_123" |
| `{{updateTime}}` | æ›´æ–°æ—¶é—´ | "2024-01-15 14:30" |
| `{{index}}` | å¼•ç”¨åºå· | 1, 2, 3... |

#### å¼•ç”¨Promptå˜é‡

| å˜é‡å | è¯´æ˜ | å¯ç”¨è§’è‰² |
|-------|------|---------|
| `{{quote}}` | æ ¼å¼åŒ–åçš„å¼•ç”¨å†…å®¹ | System/User |
| `{{question}}` | ç”¨æˆ·é—®é¢˜ | User only |

### ç‰ˆæœ¬å·ä¸€è§ˆ

| ç‰ˆæœ¬ | å‘å¸ƒæ—¶é—´ | ä¸»è¦å˜åŒ– |
|-----|---------|---------|
| 4.9.7 | å½“å‰ç‰ˆæœ¬ | æ ‡å‡†å¼•ç”¨æ¨¡æ¿ã€é—®ç­”æ¨¡æ¿ã€ä¸¥æ ¼æ ‡å‡†æ¨¡æ¿ |
| æœªæ¥ç‰ˆæœ¬ | TBD | å¾…å®š |

## ğŸ”— ç›¸å…³èµ„æº

### ä»£ç ä½ç½®

```
packages/global/core/ai/prompt/     # Promptå®šä¹‰
  â”œâ”€â”€ agent.ts
  â”œâ”€â”€ AIChat.ts
  â”œâ”€â”€ dataset.ts
  â””â”€â”€ utils.ts

packages/global/core/ai/type.d.ts   # PromptTemplateItemç±»å‹å®šä¹‰

packages/global/core/workflow/template/system/aiChat/
  â””â”€â”€ index.ts                       # AiChatèŠ‚ç‚¹Prompté…ç½®

packages/service/core/workflow/dispatch/ai/
  â”œâ”€â”€ chat.ts                        # Promptè¿è¡Œæ—¶å¤„ç†
  â””â”€â”€ tool/index.ts                  # å·¥å…·è°ƒç”¨Promptå¤„ç†

projects/app/src/components/
  â””â”€â”€ PromptTemplate/index.tsx       # Promptæ¨¡æ¿é€‰æ‹©ç»„ä»¶

projects/app/src/pageComponents/app/detail/WorkflowComponents/
  â””â”€â”€ Flow/nodes/render/RenderInput/templates/
      â””â”€â”€ SettingQuotePrompt.tsx     # Prompté…ç½®UI
```

### å¤–éƒ¨æ–‡æ¡£

- [FastGPTå®˜æ–¹æ–‡æ¡£ - AI ChatèŠ‚ç‚¹](https://doc.fastgpt.in/docs/introduction/guide/dashboard/workflow/ai_chat/)
- [PlantUMLå®˜æ–¹æ–‡æ¡£](https://plantuml.com/)

## ğŸ¤ è´¡çŒ®æŒ‡å—

å¦‚æœä½ å‘ç°æ–‡æ¡£ä¸­çš„é”™è¯¯æˆ–å¸Œæœ›è¡¥å……å†…å®¹:

1. ğŸ“ ä¿®æ”¹å¯¹åº”çš„Markdownæˆ–PlantUMLæ–‡ä»¶
2. ğŸ”„ æäº¤Pull Request
3. ğŸ“§ æˆ–é€šè¿‡Issueåé¦ˆ

## ğŸ“„ è®¸å¯è¯

æœ¬åˆ†ææ–‡æ¡£éµå¾ªFastGPTé¡¹ç›®çš„å¼€æºè®¸å¯è¯ã€‚

## â° æœ€åæ›´æ–°

- æ–‡æ¡£åˆ›å»ºæ—¶é—´: 2024å¹´
- åŸºäºFastGPTç‰ˆæœ¬: 4.9.7
- æ–‡æ¡£ç‰ˆæœ¬: 1.0

---

**é—®é¢˜åé¦ˆ**: å¦‚æœ‰ç–‘é—®,è¯·åœ¨FastGPTé¡¹ç›®ä¸­æIssueæˆ–è”ç³»ç»´æŠ¤è€…ã€‚
