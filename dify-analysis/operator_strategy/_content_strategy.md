# ğŸ“Š å†…å®¹åˆ†å±‚ç­–ç•¥è¡¨æ ¼

> åŸºäºå®é™… analysis ç›®å½•å†…å®¹çš„å¼€æº/ä¿ç•™å†³ç­–æŒ‡å—

## ğŸ“‹ æ€»ä½“ç­–ç•¥

| ç­–ç•¥ | GitHub å¼€æº | å…¬ä¼—å·ç§åŸŸ | å æ¯” |
|------|------------|-----------|------|
| æ¶æ„å›¾ & PlantUML | âœ… 100% å¼€æº | - | - |
| PNG æ¶æ„å›¾ | âœ… 100% å¼€æº | - | - |
| æ¶æ„æ¦‚è¿°æ–‡æ¡£ | âœ… 70% å¼€æº | ğŸ”’ 30% æ·±åº¦ | 7:3 |
| æŠ€æœ¯æ–‡æ¡£ | âš ï¸ 50% ç²¾ç®€ | ğŸ”’ 50% å®Œæ•´ | 5:5 |
| æºç è§£è¯» | âŒ ä¸å¼€æº | ğŸ”’ 100% ç§åŸŸ | 0:10 |
| å®æˆ˜ç»éªŒ | âŒ ä¸å¼€æº | ğŸ”’ 100% ç§åŸŸ | 0:10 |

---

## ğŸ“ 01-overviewï¼ˆé¡¹ç›®æ¦‚è¿°ï¼‰

### å½“å‰çŠ¶æ€
| æ–‡ä»¶ | ç±»å‹ | å¤§å°ä¼°ç®— |
|------|------|---------|
| `README.md` | æ¦‚è§ˆæ–‡æ¡£ | ~2000å­— |

### åˆ†å±‚å»ºè®®

| å†…å®¹ | GitHub å¼€æº | å…¬ä¼—å·æ·±åº¦ | æ“ä½œå»ºè®® |
|------|-----------|-----------|---------|
| é¡¹ç›®ç›®æ ‡ä¸èƒ½åŠ› | âœ… å®Œæ•´ | - | ä¿æŒç°çŠ¶ |
| æ¶æ„æ¦‚è§ˆ | âœ… å®Œæ•´ | ğŸ”’ æ¶æ„æ¼”è¿›å†å² | å¢åŠ å¼•æµè¯æœ¯ |
| æŠ€æœ¯æ ˆè¯´æ˜ | âœ… å®Œæ•´ | ğŸ”’ é€‰å‹ç†ç”±è¯¦è§£ | å¢åŠ å¼•æµè¯æœ¯ |
| ä»“åº“ç»“æ„ | âœ… å®Œæ•´ | ğŸ”’ æ¨¡å—é—´ä¾èµ–åˆ†æ | å¢åŠ å¼•æµè¯æœ¯ |
| æ ¸å¿ƒæ¨¡å—é€Ÿè§ˆ | âœ… å®Œæ•´ | ğŸ”’ å„æ¨¡å—æºç å¯¼è¯» | å¢åŠ å¼•æµè¯æœ¯ |

**æ“ä½œï¼š** åœ¨ `README.md` æœ«å°¾æ·»åŠ å¼•æµè¯æœ¯ï¼Œå…³é”®è¯ï¼š`Difyæ¦‚è§ˆ` æˆ– `æ¶æ„å…¨æ™¯`

---

## ğŸ“ 02-architectureï¼ˆç³»ç»Ÿæ¶æ„ï¼‰

### å½“å‰çŠ¶æ€
| æ–‡ä»¶/ç›®å½• | ç±»å‹ | çŠ¶æ€ |
|----------|------|------|
| `dify_componet_architecture.puml` | PlantUML | âœ… å®Œæ•´ |
| `png/` | æ¶æ„å›¾ | âœ… 9å¼ PNG |

### åˆ†å±‚å»ºè®®

| å†…å®¹ | GitHub å¼€æº | å…¬ä¼—å·æ·±åº¦ | æ“ä½œå»ºè®® |
|------|-----------|-----------|---------|
| PlantUML æºç  | âœ… 100% | - | å®Œå…¨å¼€æºï¼Œæ–¹ä¾¿ç¼–è¾‘ |
| PNG æ¶æ„å›¾ | âœ… 100% | - | å®Œå…¨å¼€æºï¼Œç›´è§‚å±•ç¤º |
| æ¶æ„è¯´æ˜æ–‡æ¡£ | âš ï¸ éœ€è¦åˆ›å»º | ğŸ”’ æ·±åº¦è§£è¯» | **åˆ›å»º README.md** |

**å…·ä½“æ“ä½œï¼š**
1. åˆ›å»º `02-architecture/README.md`
2. å†…å®¹ç»“æ„ï¼š
   - âœ… æ¶æ„å›¾å±•ç¤ºï¼ˆå®Œæ•´å¼€æºï¼‰
   - âœ… å„å±‚èŒè´£è¯´æ˜ï¼ˆå®Œæ•´å¼€æºï¼‰
   - âœ… ç»„ä»¶äº¤äº’æµç¨‹ï¼ˆç®€è¦å¼€æºï¼‰
   - ğŸ”’ DDD åˆ†å±‚è®¾è®¡è¯¦è§£ï¼ˆå¼•æµï¼‰
   - ğŸ”’ å¾®æœåŠ¡æ‹†åˆ†ç­–ç•¥ï¼ˆå¼•æµï¼‰
   - ğŸ”’ ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼ˆå¼•æµï¼‰

**å…³é”®è¯ï¼š** `æ¶æ„è®¾è®¡` æˆ– `DDDæ¶æ„`

---

## ğŸ“ 03-layersï¼ˆåˆ†å±‚è®¾è®¡ï¼‰

### å½“å‰çŠ¶æ€
| æ–‡ä»¶ | ç±»å‹ | çŠ¶æ€ |
|------|------|------|
| `api/dify_backend_api_documentation.md` | APIæ–‡æ¡£ | è¯¦ç»† |
| `api/*.puml` | æ—¶åºå›¾ | 6ä¸ª |
| `api/README.md` | ç´¢å¼• | å­˜åœ¨ |

### åˆ†å±‚å»ºè®®

| å†…å®¹ | GitHub å¼€æº | å…¬ä¼—å·æ·±åº¦ | æ“ä½œå»ºè®® |
|------|-----------|-----------|---------|
| API æ¶æ„æ€»è§ˆ | âœ… å®Œæ•´ | - | ä¼˜åŒ–ç°æœ‰æ–‡æ¡£ |
| PlantUML æ—¶åºå›¾ | âœ… 100% | - | å®Œå…¨å¼€æº |
| API æ–‡æ¡£åŸºç¡€éƒ¨åˆ† | âœ… 70% | ğŸ”’ 30% | ç²¾ç®€ç°æœ‰æ–‡æ¡£ |
| RESTful è®¾è®¡è§„èŒƒ | âœ… å®Œæ•´ | ğŸ”’ æœ€ä½³å®è·µ | å¢åŠ å¼•æµ |
| è®¤è¯é‰´æƒæœºåˆ¶ | âš ï¸ æ¦‚è¿° | ğŸ”’ JWTå®ç°ç»†èŠ‚ | å¢åŠ å¼•æµ |
| é”™è¯¯å¤„ç†ç­–ç•¥ | âš ï¸ æ¦‚è¿° | ğŸ”’ ç”Ÿäº§é¿å‘ | å¢åŠ å¼•æµ |
| WebSocket å®ç° | âš ï¸ æ¦‚è¿° | ğŸ”’ æºç è§£è¯» | å¢åŠ å¼•æµ |

**å…·ä½“æ“ä½œï¼š**
1. æ£€æŸ¥ `api/README.md`ï¼Œç¡®ä¿æœ‰å¼•æµè¯æœ¯
2. å°† `dify_backend_api_documentation.md` ç²¾ç®€ä¸º 70%
3. åˆ›å»º"å®Œæ•´ç‰ˆ"å¼•æµè¯´æ˜

**å…³é”®è¯ï¼š** `APIè®¾è®¡` æˆ– `æ¥å£æ¶æ„`

---

## ğŸ“ 04-core-modulesï¼ˆæ ¸å¿ƒæ¨¡å—ï¼‰â­

### å½“å‰çŠ¶æ€
| æ¨¡å— | README | å…¶ä»–æ–‡æ¡£ | PlantUML |
|------|--------|---------|----------|
| workflow | âœ… å·²åˆ›å»º | 6ä¸ª.md | 2ä¸ª.puml |
| agent | âœ… å·²åˆ›å»º | - | - |
| knowledgeBase | âœ… å·²åˆ›å»º | - | - |
| model_runtime | âŒ éœ€åˆ›å»º | - | - |
| prompt | âŒ éœ€åˆ›å»º | - | - |
| tools&plugins | âŒ éœ€åˆ›å»º | - | - |
| observability | âŒ éœ€åˆ›å»º | - | - |
| permission | âŒ éœ€åˆ›å»º | - | - |

### åˆ†å±‚å»ºè®®ï¼ˆç»Ÿä¸€ç­–ç•¥ï¼‰

| å†…å®¹ç±»å‹ | GitHub å¼€æº | å…¬ä¼—å·æ·±åº¦ | ä»·å€¼å æ¯” |
|---------|-----------|-----------|---------|
| æ¶æ„æ¦‚è§ˆ | âœ… 100% | - | å¼•æµå…¥å£ |
| æ ¸å¿ƒè®¾è®¡æ€æƒ³ | âœ… 80% | ğŸ”’ 20% æ·±åº¦æ€è€ƒ | å»ºç«‹ä¿¡ä»» |
| ç»„ä»¶å…³ç³»å›¾ | âœ… 100% | - | è§†è§‰åŒ– |
| API æ¥å£è¯´æ˜ | âœ… 100% | - | å®ç”¨æ€§ |
| é…ç½®ç¤ºä¾‹ | âœ… åŸºç¡€ç‰ˆ | ğŸ”’ ä¼ä¸šçº§é…ç½® | å·®å¼‚åŒ– |
| æºç è§£è¯» | âŒ | ğŸ”’ 100% | æ ¸å¿ƒä»·å€¼ |
| æ€§èƒ½ä¼˜åŒ– | âŒ | ğŸ”’ 100% | å®æˆ˜ä»·å€¼ |
| é¿å‘æŒ‡å— | âŒ | ğŸ”’ 100% | å•†ä¸šä»·å€¼ |
| ä¼ä¸šæ¡ˆä¾‹ | âŒ | ğŸ”’ 100% | é«˜ç«¯ä»·å€¼ |

### å„æ¨¡å—è¯¦ç»†ç­–ç•¥

#### Workflowï¼ˆå·¥ä½œæµå¼•æ“ï¼‰âœ… å·²å®Œæˆ

| æ–‡æ¡£ | çŠ¶æ€ | GitHub | å…¬ä¼—å· |
|------|------|--------|--------|
| README.md | âœ… å·²ä¼˜åŒ– | æ¶æ„æ¦‚è§ˆ | æºç è§£è¯» |
| workflow_management_technical_doc.md | å¾…ç²¾ç®€ | 70% | 30% |
| workflow_types_documentation.md | å¾…ç²¾ç®€ | 100% | - |
| workflow_nodes_documentation.md | å¾…ç²¾ç®€ | 80% | 20% |
| workflow_component_development_guide.md | å¾…ç²¾ç®€ | åŸºç¡€æŒ‡å— | é«˜çº§æŠ€å·§ |
| workflow_node_development_example.md | å¾…ç²¾ç®€ | ç®€å•ç¤ºä¾‹ | å¤æ‚æ¡ˆä¾‹ |
| *.puml | å®Œå…¨å¼€æº | 100% | - |

**å…³é”®è¯ï¼š** `Workflow` æˆ– `å·¥ä½œæµ`

#### Agentï¼ˆæ™ºèƒ½ä½“ï¼‰âœ… å·²å®Œæˆ

**å…³é”®è¯ï¼š** `Agent` æˆ– `æ™ºèƒ½ä½“`

#### KnowledgeBaseï¼ˆçŸ¥è¯†åº“ï¼‰âœ… å·²å®Œæˆ

**å…³é”®è¯ï¼š** `çŸ¥è¯†åº“` æˆ– `RAG`

#### Model Runtimeï¼ˆæ¨¡å‹è¿è¡Œæ—¶ï¼‰âŒ å¾…åˆ›å»º

**å¼€æºå†…å®¹ï¼š**
- âœ… å¤šæ¨¡å‹é€‚é…æ¶æ„
- âœ… ç»Ÿä¸€æŠ½è±¡å±‚è®¾è®¡
- âœ… è´Ÿè½½å‡è¡¡æœºåˆ¶æ¦‚è¿°

**ç§åŸŸå†…å®¹ï¼š**
- ğŸ”’ ModelProvider æºç è§£è¯»
- ğŸ”’ Token è®¡ç®—ä¸ä¼˜åŒ–
- ğŸ”’ æ¨¡å‹åˆ‡æ¢é›¶åœæœºæ–¹æ¡ˆ
- ğŸ”’ æˆæœ¬ä¼˜åŒ–å®æˆ˜

**å…³é”®è¯ï¼š** `æ¨¡å‹è¿è¡Œæ—¶` æˆ– `æ¨¡å‹ç®¡ç†`

#### Promptï¼ˆæç¤ºè¯å·¥ç¨‹ï¼‰âŒ å¾…åˆ›å»º

**å¼€æºå†…å®¹ï¼š**
- âœ… Prompt æ¨¡æ¿ç³»ç»Ÿ
- âœ… å˜é‡ç®¡ç†æœºåˆ¶
- âœ… åŸºç¡€ Prompt è®¾è®¡

**ç§åŸŸå†…å®¹ï¼š**
- ğŸ”’ é«˜çº§ Prompt å·¥ç¨‹æŠ€å·§
- ğŸ”’ ä¸Šä¸‹æ–‡çª—å£ä¼˜åŒ–
- ğŸ”’ å¤šè½®å¯¹è¯ Prompt è®¾è®¡
- ğŸ”’ ä¼ä¸šçº§ Prompt åº“

**å…³é”®è¯ï¼š** `Prompt` æˆ– `æç¤ºè¯`

#### Tools & Pluginsï¼ˆå·¥å…·æ’ä»¶ï¼‰âŒ å¾…åˆ›å»º

**å¼€æºå†…å®¹ï¼š**
- âœ… å·¥å…·è°ƒç”¨æœºåˆ¶
- âœ… æ’ä»¶æ³¨å†Œæµç¨‹
- âœ… å†…ç½®å·¥å…·åˆ—è¡¨

**ç§åŸŸå†…å®¹ï¼š**
- ğŸ”’ è‡ªå®šä¹‰å·¥å…·å¼€å‘è¯¦è§£
- ğŸ”’ å·¥å…·è°ƒç”¨æ€§èƒ½ä¼˜åŒ–
- ğŸ”’ å·¥å…·å®‰å…¨æ²™ç®±å®ç°
- ğŸ”’ å¤æ‚å·¥å…·é›†æˆæ¡ˆä¾‹

**å…³é”®è¯ï¼š** `å·¥å…·` æˆ– `æ’ä»¶`

#### Observabilityï¼ˆå¯è§‚æµ‹æ€§ï¼‰âŒ å¾…åˆ›å»º

**å¼€æºå†…å®¹ï¼š**
- âœ… æ—¥å¿—ç³»ç»Ÿæ¶æ„
- âœ… è¿½è¸ªé“¾è·¯è®¾è®¡
- âœ… æŒ‡æ ‡æ”¶é›†æœºåˆ¶

**ç§åŸŸå†…å®¹ï¼š**
- ğŸ”’ OpenTelemetry é›†æˆæºç 
- ğŸ”’ åˆ†å¸ƒå¼è¿½è¸ªå®æˆ˜
- ğŸ”’ ç›‘æ§å‘Šè­¦é…ç½®è¯¦è§£
- ğŸ”’ æ€§èƒ½ç“¶é¢ˆåˆ†ææ–¹æ³•

**å…³é”®è¯ï¼š** `å¯è§‚æµ‹æ€§` æˆ– `ç›‘æ§`

#### Permissionï¼ˆæƒé™ç®¡ç†ï¼‰âŒ å¾…åˆ›å»º

**å¼€æºå†…å®¹ï¼š**
- âœ… RBAC æ¨¡å‹è®¾è®¡
- âœ… æƒé™æ£€æŸ¥æµç¨‹
- âœ… åŸºç¡€æƒé™é…ç½®

**ç§åŸŸå†…å®¹ï¼š**
- ğŸ”’ æƒé™ç³»ç»Ÿæºç è§£è¯»
- ğŸ”’ ç»†ç²’åº¦æƒé™æ§åˆ¶
- ğŸ”’ å¤šç§Ÿæˆ·æƒé™éš”ç¦»
- ğŸ”’ ä¼ä¸šçº§æƒé™æ–¹æ¡ˆ

**å…³é”®è¯ï¼š** `æƒé™` æˆ– `RBAC`

---

## ğŸ“ 05-data-architectureï¼ˆæ•°æ®æ¶æ„ï¼‰

### å½“å‰çŠ¶æ€
| æ–‡ä»¶ | ç±»å‹ | çŠ¶æ€ |
|------|------|------|
| `database/dify_data_architecture.md` | æ•°æ®åº“æ–‡æ¡£ | è¯¦ç»† |
| `database/*.puml` | ERå›¾ | 2ä¸ª |

### åˆ†å±‚å»ºè®®

| å†…å®¹ | GitHub å¼€æº | å…¬ä¼—å·æ·±åº¦ | æ“ä½œå»ºè®® |
|------|-----------|-----------|---------|
| ER å›¾ | âœ… 100% | - | å®Œå…¨å¼€æº |
| è¡¨ç»“æ„è¯´æ˜ | âœ… 80% | ğŸ”’ 20% | ç²¾ç®€ç‰ˆæœ¬ |
| æ•°æ®æµè½¬ | âœ… 70% | ğŸ”’ 30% | å¢åŠ å¼•æµ |
| ç´¢å¼•è®¾è®¡ | âš ï¸ åŸºç¡€ | ğŸ”’ ä¼˜åŒ–ç­–ç•¥ | å¢åŠ å¼•æµ |
| è¿ç§»ç­–ç•¥ | âŒ | ğŸ”’ 100% | å¼•æµ |
| æ€§èƒ½ä¼˜åŒ– | âŒ | ğŸ”’ 100% | å¼•æµ |
| åˆ†åº“åˆ†è¡¨ | âŒ | ğŸ”’ 100% | å¼•æµ |

**å…·ä½“æ“ä½œï¼š**
1. åˆ›å»º `database/README.md`
2. ç²¾ç®€ `dify_data_architecture.md` ä¸ºæ¶æ„æ¦‚è§ˆç‰ˆ
3. å°†è¯¦ç»†çš„æŸ¥è¯¢ä¼˜åŒ–ã€ç´¢å¼•ç­–ç•¥ä½œä¸ºæ·±åº¦å†…å®¹

**å…³é”®è¯ï¼š** `æ•°æ®åº“` æˆ– `æ•°æ®æ¶æ„`

---

## ğŸ“ 06-third-partyï¼ˆç¬¬ä¸‰æ–¹é›†æˆï¼‰

### å½“å‰çŠ¶æ€
| æ–‡ä»¶ | ç±»å‹ | å­—æ•°ä¼°ç®— |
|------|------|---------|
| README.md | æ€»è§ˆ | ~400å­— |
| 01-å¤§è¯­è¨€æ¨¡å‹é›†æˆ.md | è¯¦ç»†æ–‡æ¡£ | æœªçŸ¥ |
| 02-å‘é‡æ•°æ®åº“é›†æˆ.md | è¯¦ç»†æ–‡æ¡£ | æœªçŸ¥ |
| ... (å…±10ä¸ª) | è¯¦ç»†æ–‡æ¡£ | å¤§é‡å†…å®¹ |

### åˆ†å±‚å»ºè®®

| å†…å®¹ | GitHub å¼€æº | å…¬ä¼—å·æ·±åº¦ | æ“ä½œå»ºè®® |
|------|-----------|-----------|---------|
| é›†æˆæ¦‚è§ˆ | âœ… 100% | - | README å®Œå…¨å¼€æº |
| æ”¯æŒåˆ—è¡¨ | âœ… 100% | - | æ–¹ä¾¿æŠ€æœ¯é€‰å‹ |
| é›†æˆæ¶æ„å›¾ | âœ… 100% | - | è§†è§‰åŒ–å±•ç¤º |
| åŸºç¡€é…ç½® | âœ… 80% | ğŸ”’ 20% é«˜çº§ | ç²¾ç®€æ–‡æ¡£ |
| é›†æˆä»£ç ç¤ºä¾‹ | âœ… åŸºç¡€ | ğŸ”’ å®Œæ•´ | ç²¾ç®€æ–‡æ¡£ |
| æ€§èƒ½å¯¹æ¯” | âŒ | ğŸ”’ 100% | å¼•æµ |
| é€‰å‹æŒ‡å— | âš ï¸ æ¦‚è¿° | ğŸ”’ è¯¦ç»† | å¼•æµ |
| é¿å‘ç»éªŒ | âŒ | ğŸ”’ 100% | å¼•æµ |

**å…·ä½“æ“ä½œï¼š**
å¯¹æ¯ä¸ªé›†æˆæ–‡æ¡£ï¼š
1. ä¿ç•™ 70% çš„æ¶æ„è¯´æ˜å’Œé…ç½®æ–¹æ³•
2. åˆ é™¤æˆ–ç²¾ç®€ 30% çš„æºç è§£è¯»å’Œé«˜çº§æŠ€å·§
3. åœ¨æ–‡æ¡£æœ«å°¾æ·»åŠ å¼•æµè¯æœ¯

**å…³é”®è¯ç¤ºä¾‹ï¼š**
- `å¤§æ¨¡å‹é›†æˆ`
- `å‘é‡æ•°æ®åº“é€‰å‹`
- `å¯¹è±¡å­˜å‚¨é…ç½®`
- `æ¶ˆæ¯å¹³å°é›†æˆ`
- `æ–‡æ¡£å¤„ç†`

---

## ğŸ“ 07-othersï¼ˆå…¶ä»–æ–‡æ¡£ï¼‰

### å½“å‰çŠ¶æ€
| æ–‡ä»¶ | ç±»å‹ | çŠ¶æ€ |
|------|------|------|
| DifyçŸ¥è¯†é—®ç­”åœºæ™¯-ä¸Šä¸‹æ–‡å·¥ç¨‹åº”ç”¨è¯¦è§£.md | ä¸“é¢˜ | è¯¦ç»† |
| ä¸Šä¸‹æ–‡å·¥ç¨‹æ¦‚å¿µæ¾„æ¸….md | æ¦‚å¿µ | è¯¦ç»† |
| context_engineering_qa_flow.puml | æµç¨‹å›¾ | å®Œæ•´ |
| README.md | ç´¢å¼• | ç®€å• |

### åˆ†å±‚å»ºè®®

| å†…å®¹ | GitHub å¼€æº | å…¬ä¼—å·æ·±åº¦ | æ“ä½œå»ºè®® |
|------|-----------|-----------|---------|
| PlantUML æµç¨‹å›¾ | âœ… 100% | - | å®Œå…¨å¼€æº |
| æ¦‚å¿µè§£é‡Š | âœ… 100% | - | é€‚åˆç§‘æ™® |
| æ¶æ„åˆ†æ | âœ… 70% | ğŸ”’ 30% | ç²¾ç®€ç‰ˆæœ¬ |
| å®ç°ç»†èŠ‚ | âš ï¸ æ¦‚è¿° | ğŸ”’ æºç  | å¢åŠ å¼•æµ |
| å®æˆ˜æ¡ˆä¾‹ | âŒ | ğŸ”’ 100% | å¼•æµ |

**å…³é”®è¯ï¼š** `ä¸Šä¸‹æ–‡å·¥ç¨‹` æˆ– `Context`

---

## ğŸ“Š ä¼˜å…ˆçº§æ‰§è¡Œè¡¨

### ğŸ”´ é«˜ä¼˜å…ˆçº§ï¼ˆä»Šå¤©å®Œæˆï¼‰

| ä»»åŠ¡ | é¢„è®¡æ—¶é—´ | æ“ä½œ |
|------|---------|------|
| ä¼˜åŒ–ä¸» README | âœ… å·²å®Œæˆ | - |
| åˆ›å»º Workflow README | âœ… å·²å®Œæˆ | - |
| åˆ›å»º Agent README | âœ… å·²å®Œæˆ | - |
| åˆ›å»º KnowledgeBase README | âœ… å·²å®Œæˆ | - |
| å‡†å¤‡å…¬ä¼—å·äºŒç»´ç  | 10åˆ†é’Ÿ | ä¸‹è½½å¹¶ä¿å­˜ |
| è®¾ç½®è‡ªåŠ¨å›å¤ | 10åˆ†é’Ÿ | é…ç½®å…³é”®è¯ |

### ğŸŸ¡ ä¸­ä¼˜å…ˆçº§ï¼ˆæœ¬å‘¨å®Œæˆï¼‰

| ä»»åŠ¡ | é¢„è®¡æ—¶é—´ | æ“ä½œ |
|------|---------|------|
| åˆ›å»º Model Runtime README | 30åˆ†é’Ÿ | å¤åˆ¶æ¨¡æ¿ä¿®æ”¹ |
| åˆ›å»º Prompt README | 30åˆ†é’Ÿ | å¤åˆ¶æ¨¡æ¿ä¿®æ”¹ |
| åˆ›å»º Tools README | 30åˆ†é’Ÿ | å¤åˆ¶æ¨¡æ¿ä¿®æ”¹ |
| åˆ›å»º Observability README | 30åˆ†é’Ÿ | å¤åˆ¶æ¨¡æ¿ä¿®æ”¹ |
| åˆ›å»º Permission README | 30åˆ†é’Ÿ | å¤åˆ¶æ¨¡æ¿ä¿®æ”¹ |
| ä¼˜åŒ– 02-architecture | 30åˆ†é’Ÿ | åˆ›å»ºREADME+å¼•æµ |
| ä¼˜åŒ– 05-data-architecture | 30åˆ†é’Ÿ | åˆ›å»ºREADME+å¼•æµ |

### ğŸŸ¢ ä½ä¼˜å…ˆçº§ï¼ˆä¸‹å‘¨å®Œæˆï¼‰

| ä»»åŠ¡ | é¢„è®¡æ—¶é—´ | æ“ä½œ |
|------|---------|------|
| ç²¾ç®€ 03-layers/api æ–‡æ¡£ | 1å°æ—¶ | ä¿ç•™70%ï¼Œå¼•æµ30% |
| ç²¾ç®€ 06-third-party æ–‡æ¡£ | 2å°æ—¶ | é€ä¸ªæ–‡æ¡£å¤„ç† |
| ä¼˜åŒ– 07-others æ–‡æ¡£ | 30åˆ†é’Ÿ | å¢åŠ å¼•æµ |

---

## ğŸ“ˆ å†…å®¹ä»·å€¼çŸ©é˜µ

### å®Œå…¨å¼€æºï¼ˆå»ºç«‹å½±å“åŠ›ï¼‰

```
é«˜ä»·å€¼ + ä½é—¨æ§› = å®Œå…¨å¼€æº
```

**é€‚åˆå¼€æºçš„å†…å®¹ï¼š**
- âœ… æ‰€æœ‰æ¶æ„å›¾ï¼ˆPlantUML + PNGï¼‰
- âœ… æ¶æ„æ¦‚è§ˆå’Œè®¾è®¡æ€æƒ³
- âœ… æ¨¡å—å…³ç³»å’Œäº¤äº’æµç¨‹
- âœ… åŸºç¡€é…ç½®å’Œå¿«é€Ÿå¼€å§‹
- âœ… API æ¥å£æ–‡æ¡£
- âœ… æ¦‚å¿µè§£é‡Šå’ŒåŸç†è¯´æ˜

**æ•ˆæœï¼š**
- å¸®åŠ©ç”¨æˆ·å¿«é€Ÿç†è§£ Dify
- å»ºç«‹ä½ çš„æŠ€æœ¯æƒå¨
- è·å¾— Google SEO æµé‡
- è¢«å®˜æ–¹å¼•ç”¨çš„å¯èƒ½æ€§

### å¼•æµåˆ°å…¬ä¼—å·ï¼ˆå•†ä¸šä»·å€¼ï¼‰

```
é«˜ä»·å€¼ + é«˜é—¨æ§› = ä»˜è´¹/ç§åŸŸ
```

**é€‚åˆç§åŸŸçš„å†…å®¹ï¼š**
- ğŸ”’ æºç é€è¡Œè§£è¯»ï¼ˆéœ€è¦å¤§é‡æ—¶é—´ç ”ç©¶ï¼‰
- ğŸ”’ æ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼ˆéœ€è¦å®é™…ç»éªŒï¼‰
- ğŸ”’ ç”Ÿäº§ç¯å¢ƒé¿å‘ï¼ˆéœ€è¦è¸©å‘ç»éªŒï¼‰
- ğŸ”’ ä¼ä¸šçº§æ–¹æ¡ˆè®¾è®¡ï¼ˆéœ€è¦ä¸šåŠ¡ç†è§£ï¼‰
- ğŸ”’ å¤æ‚æ¡ˆä¾‹å®ç°ï¼ˆéœ€è¦ç»¼åˆèƒ½åŠ›ï¼‰
- ğŸ”’ æŠ€æœ¯é€‰å‹å¯¹æ¯”ï¼ˆéœ€è¦æ·±åº¦æµ‹è¯•ï¼‰

**æ•ˆæœï¼š**
- ç»™å…¬ä¼—å·å¼•æµçš„ç†ç”±
- å»ºç«‹ä»˜è´¹äº§å“åŸºç¡€
- æä¾›ä¸€å¯¹ä¸€å’¨è¯¢ä»·å€¼
- æŒç»­åˆ›ä½œçš„å•†ä¸šæ¿€åŠ±

---

## ğŸ¯ å†…å®¹ç”Ÿäº§æµç¨‹

### æ ‡å‡†æµç¨‹ï¼ˆæ–°å†…å®¹ï¼‰

```
1. ç ”ç©¶æ¨¡å—ï¼ˆAIè¾…åŠ©åˆ†æï¼‰
   â†“
2. ç”Ÿæˆå®Œæ•´æ–‡æ¡£ï¼ˆ10000å­—ï¼‰
   â†“
3. æ‹†åˆ†ä¸ºä¸¤ä¸ªç‰ˆæœ¬
   â”œâ”€â”€ GitHubç‰ˆï¼ˆ3000å­—æ¶æ„æ¦‚è§ˆï¼‰
   â””â”€â”€ å…¬ä¼—å·ç‰ˆï¼ˆ10000å­—å®Œæ•´ç‰ˆï¼‰
   â†“
4. GitHub å‘å¸ƒ + å¼•æµè¯æœ¯
   â†“
5. å…¬ä¼—å·å‘å¸ƒ + è®¾ç½®å…³é”®è¯
```

### ä¼˜åŒ–æµç¨‹ï¼ˆç°æœ‰å†…å®¹ï¼‰

```
1. è¯„ä¼°ç°æœ‰æ–‡æ¡£
   â†“
2. åˆ¤æ–­å¼€æºç¨‹åº¦ï¼ˆ70% or 50%ï¼Ÿï¼‰
   â†“
3. ç²¾ç®€æˆ–ä¿ç•™
   â”œâ”€â”€ å¦‚æœ>5000å­— â†’ ç²¾ç®€åˆ°3000å­—
   â””â”€â”€ å¦‚æœ<3000å­— â†’ å®Œå…¨å¼€æº
   â†“
4. æ·»åŠ å¼•æµè¯æœ¯
   â†“
5. åœ¨å…¬ä¼—å·å‡†å¤‡å®Œæ•´ç‰ˆ
```

---

## âœ… æ‰§è¡Œæ£€æŸ¥æ¸…å•

### Phase 1: åŸºç¡€è®¾æ–½ï¼ˆä»Šå¤©ï¼‰
- [x] ä¼˜åŒ–ä¸» README.md
- [ ] ä¸‹è½½å…¬ä¼—å·äºŒç»´ç  â†’ `analysis/qrcode.png`
- [ ] è®¾ç½® 5 ä¸ªæ ¸å¿ƒå…³é”®è¯è‡ªåŠ¨å›å¤
- [ ] æµ‹è¯•æ‰«ç å’Œå…³é”®è¯

### Phase 2: æ ¸å¿ƒæ¨¡å—ï¼ˆæœ¬å‘¨ï¼‰
- [x] Workflow README âœ…
- [x] Agent README âœ…
- [x] KnowledgeBase README âœ…
- [ ] Model Runtime README
- [ ] Prompt README
- [ ] Tools & Plugins README
- [ ] Observability README
- [ ] Permission README

### Phase 3: æ¶æ„å±‚ï¼ˆä¸‹å‘¨ï¼‰
- [ ] 02-architecture/README.md
- [ ] 05-data-architecture/database/README.md
- [ ] 03-layers/api ä¼˜åŒ–

### Phase 4: é›†æˆå±‚ï¼ˆä¸‹ä¸‹å‘¨ï¼‰
- [ ] ç²¾ç®€ 06-third-party ä¸‹çš„ 10 ä¸ªæ–‡æ¡£
- [ ] ä¼˜åŒ– 07-others æ–‡æ¡£

### Phase 5: å‘å¸ƒæ¨å¹¿ï¼ˆæŒç»­ï¼‰
- [ ] GitHub Discussion å‘å¸–
- [ ] çŸ¥ä¹ä¸“æ åŒæ­¥
- [ ] æ˜é‡‘åŒæ­¥
- [ ] Twitter/å³åˆ» å®£ä¼ 

---

## ğŸ æ‰¹é‡æ“ä½œè„šæœ¬

### Python è„šæœ¬ï¼šæ‰¹é‡æ·»åŠ å¼•æµè¯æœ¯

```python
#!/usr/bin/env python3
"""
æ‰¹é‡ä¸º README.md æ·»åŠ å¼•æµè¯æœ¯
"""

import os
from pathlib import Path

FOOTER_TEMPLATE = """
---

## ğŸ“– è·å–æ›´æ·±åº¦çš„å†…å®¹

æœ¬æ–‡æ¡£æä¾›äº† {module_name} çš„**æ¶æ„çº§åˆ†æ**ã€‚

å®Œæ•´ç‰ˆåŒ…å«ï¼š
- ğŸ” æ ¸å¿ƒä»£ç é€è¡Œè§£è¯»
- âš¡ æ€§èƒ½ä¼˜åŒ–å®æˆ˜
- âš ï¸ ç”Ÿäº§ç¯å¢ƒé¿å‘æŒ‡å—
- ğŸ¯ ä¼ä¸šçº§åº”ç”¨æ¡ˆä¾‹

å…³æ³¨å…¬ä¼—å· **ã€ŒAIæ¶æ„è§£æã€**ï¼Œå›å¤ **"{keyword}"** è·å–

![å…¬ä¼—å·äºŒç»´ç ](../../qrcode.png)

---

ğŸ“Œ **ç›¸å…³æ¨¡å—**
{related_links}
"""

MODULES = [
    {
        "path": "04-core-modules/model_runtime",
        "name": "Model Runtime æ¨¡å‹è¿è¡Œæ—¶",
        "keyword": "æ¨¡å‹",
        "related": ["workflow", "agent"]
    },
    {
        "path": "04-core-modules/prompt",
        "name": "Prompt æç¤ºè¯å·¥ç¨‹",
        "keyword": "Prompt",
        "related": ["agent", "workflow"]
    },
    # ... æ·»åŠ æ›´å¤šæ¨¡å—
]

def add_footer(module_info):
    """ä¸ºæŒ‡å®šæ¨¡å—æ·»åŠ å¼•æµè¯æœ¯"""
    readme_path = Path(f"analysis/{module_info['path']}/README.md")
    
    if not readme_path.exists():
        print(f"åˆ›å»º: {readme_path}")
        # åˆ›å»ºåŸºç¡€ README
        content = f"# {module_info['name']}\n\n> TODO: æ·»åŠ æ¨¡å—æè¿°\n"
    else:
        print(f"æ›´æ–°: {readme_path}")
        with open(readme_path, 'r', encoding='utf-8') as f:
            content = f.read()
    
    # ç”Ÿæˆç›¸å…³é“¾æ¥
    related_links = "\n".join([
        f"- [{m.title()}](../{m}/)"
        for m in module_info['related']
    ])
    
    # æ·»åŠ å¼•æµè¯æœ¯
    footer = FOOTER_TEMPLATE.format(
        module_name=module_info['name'],
        keyword=module_info['keyword'],
        related_links=related_links
    )
    
    # æ£€æŸ¥æ˜¯å¦å·²æœ‰å¼•æµè¯æœ¯
    if "è·å–æ›´æ·±åº¦çš„å†…å®¹" not in content:
        content += footer
    
    # å†™å›æ–‡ä»¶
    with open(readme_path, 'w', encoding='utf-8') as f:
        f.write(content)
    
    print(f"âœ… å®Œæˆ: {module_info['name']}")

if __name__ == "__main__":
    for module in MODULES:
        add_footer(module)
    print("\nğŸ‰ æ‰€æœ‰æ¨¡å—å¤„ç†å®Œæˆï¼")
```

### ä½¿ç”¨æ–¹æ³•

```bash
# åœ¨ dify æ ¹ç›®å½•æ‰§è¡Œ
cd e:\GitHub\dify
python scripts/add_footer.py
```

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœä½ åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼š
1. æ£€æŸ¥æœ¬æ–‡æ¡£çš„"æ‰§è¡Œæ£€æŸ¥æ¸…å•"
2. å‚è€ƒ `_deployment_guide.md`
3. æŸ¥çœ‹å·²å®Œæˆçš„ç¤ºä¾‹ï¼ˆworkflow/agent/knowledgeBaseï¼‰

**ç¥ä½ é¡ºåˆ©å®Œæˆå†…å®¹åˆ†å±‚ï¼** ğŸš€
