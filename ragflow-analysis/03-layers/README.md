# åˆ†å±‚æ¶æ„è¯¦ç»†è¯´æ˜

æœ¬ç›®å½•åŒ…å« RAGFlow é¡¹ç›®çš„ 7 å±‚æ¶æ„è¯¦ç»†æ–‡æ¡£ã€‚

## ğŸ“ æ–‡æ¡£åˆ—è¡¨

### [01 - å±•ç¤ºå±‚ (Presentation Layer)](01-presentation-layer.md)
- **èŒè´£**: å‰ç«¯ç”¨æˆ·ç•Œé¢å±•ç¤ºå’Œäº¤äº’
- **æŠ€æœ¯æ ˆ**: React 18 + TypeScript + UmiJS + Ant Design
- **ä¸»è¦åŠŸèƒ½**: çŸ¥è¯†åº“ç®¡ç†ã€å¯¹è¯ç•Œé¢ã€Agent æµç¨‹ç¼–è¾‘
- **æ–‡æ¡£å¤§å°**: ~20KB

### [02 - ç½‘å…³å±‚ (Gateway Layer)](02-gateway-layer.md)
- **èŒè´£**: åå‘ä»£ç†ã€è´Ÿè½½å‡è¡¡ã€SSL ç»ˆæ­¢
- **æŠ€æœ¯æ ˆ**: Nginx
- **ä¸»è¦åŠŸèƒ½**: é™æ€èµ„æºæœåŠ¡ã€API è·¯ç”±ã€å®‰å…¨é˜²æŠ¤
- **æ–‡æ¡£å¤§å°**: ~18KB

### [03 - API æœåŠ¡å±‚ (API Service Layer)](03-api-service-layer.md)
- **èŒè´£**: RESTful API æ¥å£ã€è¯·æ±‚å¤„ç†ã€è®¤è¯æˆæƒ
- **æŠ€æœ¯æ ˆ**: Quart (å¼‚æ­¥ Flask)
- **ä¸»è¦åŠŸèƒ½**: Blueprint æ¨¡å—åŒ–è®¾è®¡ã€SSE æµå¼å“åº”ã€JWT è®¤è¯
- **æ–‡æ¡£å¤§å°**: ~22KB

### [04 - ä¸šåŠ¡é€»è¾‘å±‚ (Business Logic Layer)](04-business-logic-layer.md)
- **èŒè´£**: RAG å¼•æ“ã€Agent ç³»ç»Ÿã€æ–‡æ¡£è§£æã€çŸ¥è¯†å›¾è°±
- **æŠ€æœ¯æ ˆ**: Python å¼‚æ­¥ç¼–ç¨‹
- **ä¸»è¦åŠŸèƒ½**: æ£€ç´¢ç”Ÿæˆã€å·¥ä½œæµç¼–æ’ã€å¤šæ ¼å¼è§£æã€å®ä½“æŠ½å–
- **æ–‡æ¡£å¤§å°**: ~25KB

### [05 - æ•°æ®è®¿é—®å±‚ (Data Access Layer)](05-data-access-layer.md)
- **èŒè´£**: åŒORM æ¨¡å‹ã€æ•°æ®åº“æ“ä½œã€æœç´¢å®¢æˆ·ç«¯ã€ç¼“å­˜ç®¡ç†
- **æŠ€æœ¯æ ˆ**: Peewee (application) + SQLAlchemy (vector) + Elasticsearch + Redis + MinIO
- **ä¸»è¦åŠŸèƒ½**: CRUD å°è£…ã€å‘é‡æ£€ç´¢ã€åˆ†å¸ƒå¼é”ã€å¯¹è±¡å­˜å‚¨
- **æ–‡æ¡£å¤§å°**: ~16KB

### [06 - åŸºç¡€è®¾æ–½å±‚ (Infrastructure Layer)](06-infrastructure-layer.md)
- **èŒè´£**: åº•å±‚æŠ€æœ¯æ”¯æ’‘ã€å®¹å™¨ç¼–æ’ã€æœåŠ¡éƒ¨ç½²
- **æŠ€æœ¯æ ˆ**: Docker + MySQL + ES + Redis + MinIO
- **ä¸»è¦åŠŸèƒ½**: å®¹å™¨åŒ–éƒ¨ç½²ã€æ•°æ®æŒä¹…åŒ–ã€å¥åº·æ£€æŸ¥
- **æ–‡æ¡£å¤§å°**: ~19KB

### [07 - å¤–éƒ¨æœåŠ¡å±‚ (External Services Layer)](07-external-services-layer.md)
- **èŒè´£**: ç¬¬ä¸‰æ–¹æœåŠ¡é›†æˆ
- **æŠ€æœ¯æ ˆ**: LLM API + OAuth + HTTP å®¢æˆ·ç«¯
- **ä¸»è¦åŠŸèƒ½**: 20+ LLM æä¾›å•†ã€ç¬¬ä¸‰æ–¹ç™»å½•ã€æ•°æ®æºè¿æ¥
- **æ–‡æ¡£å¤§å°**: ~17KB

---

## ğŸ“Š å±‚çº§å…³ç³»å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  07. å¤–éƒ¨æœåŠ¡å±‚ (External Services)        â”‚
â”‚  - LLM æä¾›å•† (OpenAI, Anthropic, ...)    â”‚
â”‚  - ç¬¬ä¸‰æ–¹ç™»å½• (GitHub, é£ä¹¦)               â”‚
â”‚  - æ•°æ®æºè¿æ¥å™¨                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†‘ è°ƒç”¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  06. åŸºç¡€è®¾æ–½å±‚ (Infrastructure)           â”‚
â”‚  - MySQL + ES + Redis + MinIO             â”‚
â”‚  - Docker å®¹å™¨ç¼–æ’                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†‘ ä½¿ç”¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  05. æ•°æ®è®¿é—®å±‚ (Data Access)              â”‚
â”‚  - Peewee ORM (ä¸šåŠ¡) + SQLAlchemy (å‘é‡) â”‚
â”‚  - ES/Redis/MinIO å®¢æˆ·ç«¯                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†‘ è°ƒç”¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  04. ä¸šåŠ¡é€»è¾‘å±‚ (Business Logic)           â”‚
â”‚  - RAG å¼•æ“ + Agent ç³»ç»Ÿ                   â”‚
â”‚  - æ–‡æ¡£è§£æ + çŸ¥è¯†å›¾è°±                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†‘ è°ƒç”¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  03. API æœåŠ¡å±‚ (API Service)              â”‚
â”‚  - Quart Blueprint                         â”‚
â”‚  - RESTful API + SSE æµå¼                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†‘ HTTP è¯·æ±‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  02. ç½‘å…³å±‚ (Gateway)                      â”‚
â”‚  - Nginx åå‘ä»£ç†                          â”‚
â”‚  - è´Ÿè½½å‡è¡¡ + SSL                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†‘ HTTPS è¯·æ±‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  01. å±•ç¤ºå±‚ (Presentation)                 â”‚
â”‚  - React + TypeScript + UmiJS              â”‚
â”‚  - ç”¨æˆ·ç•Œé¢                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” å¿«é€Ÿå¯¼èˆª

### æŒ‰è§’è‰²æŸ¥çœ‹
- **å‰ç«¯å¼€å‘è€…**: [å±•ç¤ºå±‚](01-presentation-layer.md)
- **è¿ç»´å·¥ç¨‹å¸ˆ**: [ç½‘å…³å±‚](02-gateway-layer.md) â†’ [åŸºç¡€è®¾æ–½å±‚](06-infrastructure-layer.md)
- **åç«¯å¼€å‘è€…**: [API æœåŠ¡å±‚](03-api-service-layer.md) â†’ [ä¸šåŠ¡é€»è¾‘å±‚](04-business-logic-layer.md)
- **æ•°æ®å·¥ç¨‹å¸ˆ**: [æ•°æ®è®¿é—®å±‚](05-data-access-layer.md)
- **æ¶æ„å¸ˆ**: å…¨éƒ¨æ–‡æ¡£

### æŒ‰æŠ€æœ¯æ ˆæŸ¥çœ‹
- **React/TypeScript**: [å±•ç¤ºå±‚](01-presentation-layer.md)
- **Nginx**: [ç½‘å…³å±‚](02-gateway-layer.md)
- **Quart/Flask**: [API æœåŠ¡å±‚](03-api-service-layer.md)
- **RAG/Agent**: [ä¸šåŠ¡é€»è¾‘å±‚](04-business-logic-layer.md)
- **Peewee/SQLAlchemy**: [æ•°æ®è®¿é—®å±‚](05-data-access-layer.md) (åŒORMæ¶æ„)
- **Docker**: [åŸºç¡€è®¾æ–½å±‚](06-infrastructure-layer.md)
- **LLM é›†æˆ**: [å¤–éƒ¨æœåŠ¡å±‚](07-external-services-layer.md)

### æŒ‰åŠŸèƒ½æŸ¥çœ‹
- **ç”¨æˆ·ç•Œé¢**: [å±•ç¤ºå±‚](01-presentation-layer.md)
- **è¯·æ±‚è·¯ç”±**: [ç½‘å…³å±‚](02-gateway-layer.md) â†’ [API æœåŠ¡å±‚](03-api-service-layer.md)
- **RAG æ£€ç´¢**: [ä¸šåŠ¡é€»è¾‘å±‚](04-business-logic-layer.md)
- **æ•°æ®æŒä¹…åŒ–**: [æ•°æ®è®¿é—®å±‚](05-data-access-layer.md) â†’ [åŸºç¡€è®¾æ–½å±‚](06-infrastructure-layer.md)
- **æ¨¡å‹è°ƒç”¨**: [å¤–éƒ¨æœåŠ¡å±‚](07-external-services-layer.md)

---

## ğŸ“ æ–‡æ¡£è§„èŒƒ

æ‰€æœ‰æ–‡æ¡£éµå¾ªç»Ÿä¸€ç»“æ„ï¼š
1. å±‚èŒè´£ä¸å®šä½
2. ä¸»è¦ç»„ä»¶/æ¨¡å—
3. å¯¹å¤–æä¾›çš„æ¥å£æˆ–æœåŠ¡
4. ä¸å…¶ä»–å±‚çš„äº¤äº’æ–¹å¼
5. å…³é”®ä»£ç æ–‡ä»¶è·¯å¾„
6. æŠ€æœ¯å®ç°ç»†èŠ‚
7. æ€§èƒ½ä¼˜åŒ–ï¼ˆå¦‚é€‚ç”¨ï¼‰
8. éƒ¨ç½²ä¸è¿ç»´ï¼ˆå¦‚é€‚ç”¨ï¼‰
9. æ€»ç»“

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [ç³»ç»Ÿæ¶æ„æ€»è§ˆ](../02-architecture/system-architecture.md)
- [é¡¹ç›®æ¦‚è§ˆ](../01-overview/project-overview.md)
- [æ ¸å¿ƒæ¨¡å—è¯¦ç»†åˆ†æ](../04-core-modules/) (æ­¥éª¤ 4)

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0  
**æœ€åæ›´æ–°**: 2025-12-18  
**ç»´æŠ¤è€…**: RAGFlow å›¢é˜Ÿ
