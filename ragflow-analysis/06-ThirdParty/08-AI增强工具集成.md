# AI 增强工具集成

## 概述

RAGFlow 的 Agent 系统集成了多种 AI 增强工具，包括搜索引擎、学术工具、金融数据、翻译服务和爬虫工具等。

**核心目录**：[agent/tools/](../../agent/tools/)

## 搜索引擎

### 1. DuckDuckGo

**文件**：[agent/tools/duckduckgo.py](../../agent/tools/duckduckgo.py)

**依赖**：`duckduckgo-search>=7.2.0`

```python
from duckduckgo_search import DDGS

def search(query, max_results=5):
    with DDGS() as ddgs:
        results = list(ddgs.text(query, max_results=max_results))
    return results
```

### 2. Google Search

**文件**：[agent/tools/google.py](../../agent/tools/google.py)

**依赖**：`google-search-results==2.4.2`

### 3. Tavily

AI 搜索引擎：

**文件**：[agent/tools/tavily.py](../../agent/tools/tavily.py)

**依赖**：`tavily-python==0.5.1`

**连接器**：[rag/utils/tavily_conn.py](../../rag/utils/tavily_conn.py)

### 4. SearXNG

自托管元搜索引擎：

**文件**：[agent/tools/searxng.py](../../agent/tools/searxng.py)

## 学术工具

### 1. arXiv

**文件**：[agent/tools/arxiv.py](../../agent/tools/arxiv.py)

**依赖**：`arxiv==2.1.3`

```python
import arxiv

def search_papers(query, max_results=10):
    search = arxiv.Search(
        query=query,
        max_results=max_results,
        sort_by=arxiv.SortCriterion.Relevance
    )
    return list(search.results())
```

### 2. PubMed

医学文献数据库：

**文件**：[agent/tools/pubmed.py](../../agent/tools/pubmed.py)

**依赖**：`bio==1.7.1`

### 3. Google Scholar

**文件**：[agent/tools/googlescholar.py](../../agent/tools/googlescholar.py)

**依赖**：`scholarly==1.7.11`

### 4. Wikipedia

**文件**：[agent/tools/wikipedia.py](../../agent/tools/wikipedia.py)

**依赖**：`wikipedia==1.4.0`

## 金融数据

### 1. Yahoo Finance

**文件**：[agent/tools/yahoofinance.py](../../agent/tools/yahoofinance.py)

**依赖**：`yfinance==0.2.65`

```python
import yfinance as yf

# 获取股票数据
ticker = yf.Ticker("AAPL")
data = ticker.history(period="1mo")
```

### 2. Akshare

中国金融数据：

**文件**：[agent/tools/akshare.py](../../agent/tools/akshare.py)

**依赖**：`akshare>=1.15.78`

### 3. Tushare

**文件**：[agent/tools/tushare.py](../../agent/tools/tushare.py)

### 4. 问财 (WenCai)

**文件**：[agent/tools/wencai.py](../../agent/tools/wencai.py)

**依赖**：`pywencai>=0.13.1`

### 5. 金十数据

**文件**：[agent/tools/jin10.py](../../agent/tools/jin10.py)

## 翻译服务

### DeepL

**文件**：[agent/tools/deepl.py](../../agent/tools/deepl.py)

**依赖**：`deepl==1.18.0`

```python
import deepl

translator = deepl.Translator(auth_key="YOUR_API_KEY")
result = translator.translate_text("Hello, world!", target_lang="ZH")
```

## 爬虫工具

### 1. Crawl4AI

AI 驱动的网页爬虫：

**文件**：[agent/tools/crawler.py](../../agent/tools/crawler.py)

**依赖**：`Crawl4AI>=0.4.0`

### 2. Selenium

**依赖**：
- `selenium-wire==5.1.0`
- `webdriver-manager==4.0.1`

### 3. Firecrawl

专用爬虫集成：

**目录**：[intergrations/firecrawl/](../../intergrations/firecrawl/)

## 其他工具

### 1. GitHub

**文件**：[agent/tools/github.py](../../agent/tools/github.py)

### 2. Email (SMTP)

**文件**：[agent/tools/email.py](../../agent/tools/email.py)

**依赖**：`aiosmtplib>=5.0.0`

### 3. SQL 执行

**文件**：[agent/tools/exesql.py](../../agent/tools/exesql.py)

### 4. 检索工具

**文件**：[agent/tools/retrieval.py](../../agent/tools/retrieval.py)

### 5. 天气查询

**文件**：[agent/tools/qweather.py](../../agent/tools/qweather.py)

## 工具基类

**文件**：[agent/tools/base.py](../../agent/tools/base.py)

```python
class BaseTool:
    """工具基类"""
    
    @property
    def name(self) -> str:
        """工具名称"""
        raise NotImplementedError
    
    @property
    def description(self) -> str:
        """工具描述"""
        raise NotImplementedError
    
    def run(self, **kwargs):
        """执行工具"""
        raise NotImplementedError
```

## 使用示例

### 搜索 + 检索

```python
from agent.tools.duckduckgo import search
from agent.tools.retrieval import retrieve

# 1. 网络搜索
web_results = search("RAG 技术", max_results=5)

# 2. 知识库检索
kb_results = retrieve(query="RAG 技术", kb_id="kb_123")

# 3. 合并结果
all_results = web_results + kb_results
```

### 学术研究助手

```python
from agent.tools.arxiv import search_papers
from agent.tools.googlescholar import search_scholar

# 搜索论文
arxiv_papers = search_papers("transformer", max_results=10)
scholar_papers = search_scholar("transformer")

# 分析论文
for paper in arxiv_papers:
    print(f"Title: {paper.title}")
    print(f"Authors: {paper.authors}")
    print(f"Summary: {paper.summary}")
```

## 参考文档

- [DuckDuckGo Search](https://github.com/deedy5/duckduckgo_search)
- [arXiv API](https://info.arxiv.org/help/api/)
- [yfinance](https://github.com/ranaroussi/yfinance)

## 许可证

遵循项目主许可证 [Apache 2.0](../../LICENSE)
