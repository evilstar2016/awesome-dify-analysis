# 数据源连接器集成

## 概述

RAGFlow 支持从多种数据源同步内容，包括协作平台、云存储、通信工具等。所有连接器实现统一的接口，便于扩展和维护。

**核心目录**：[common/data_source/](../../common/data_source/)

## 支持的数据源

### 1. 协作平台

#### 1.1 Slack

**文件**：[common/data_source/slack_connector.py](../../common/data_source/slack_connector.py)

**配置**：
```python
config = {
    "workspace": "my-workspace",
    "bot_token": "xoxb-xxxxxxxxxxxxx"
}
```

**依赖**：`slack-sdk==3.37.0`

#### 1.2 Discord

**文件**：[common/data_source/discord_connector.py](../../common/data_source/discord_connector.py)

**依赖**：`discord-py==2.3.2`

#### 1.3 Microsoft Teams

**文件**：[common/data_source/teams_connector.py](../../common/data_source/teams_connector.py)

#### 1.4 Notion

**文件**：[common/data_source/notion_connector.py](../../common/data_source/notion_connector.py)

#### 1.5 Confluence

**文件**：[common/data_source/confluence_connector.py](../../common/data_source/confluence_connector.py)

**依赖**：`atlassian-python-api==4.0.7`

### 2. 云存储

#### 2.1 Google Drive

**目录**：[common/data_source/google_drive/](../../common/data_source/google_drive/)

**OAuth**：[common/data_source/google_util/oauth_flow.py](../../common/data_source/google_util/oauth_flow.py)

**依赖**：`google-auth-oauthlib>=1.2.0`

#### 2.2 Dropbox

**文件**：[common/data_source/dropbox_connector.py](../../common/data_source/dropbox_connector.py)

**依赖**：`dropbox==12.0.2`

#### 2.3 OneDrive/SharePoint

**文件**：[common/data_source/sharepoint_connector.py](../../common/data_source/sharepoint_connector.py)

**依赖**：`Office365-REST-Python-Client==2.6.2`

#### 2.4 Box

**文件**：[common/data_source/box_connector.py](../../common/data_source/box_connector.py)

**依赖**：`boxsdk>=10.1.0`

#### 2.5 Azure Blob

**文件**：[common/data_source/blob_connector.py](../../common/data_source/blob_connector.py)

### 3. 通信工具

#### 3.1 Gmail

**文件**：[common/data_source/gmail_connector.py](../../common/data_source/gmail_connector.py)

#### 3.2 Jira

**目录**：[common/data_source/jira/](../../common/data_source/jira/)

**依赖**：`jira==3.10.5`

#### 3.3 Moodle

**文件**：[common/data_source/moodle_connector.py](../../common/data_source/moodle_connector.py)

**依赖**：`moodlepy>=0.23.0`

### 4. 网络协议

#### WebDAV

**文件**：[common/data_source/webdav_connector.py](../../common/data_source/webdav_connector.py)

**依赖**：`webdav4>=0.10.0`

## 统一接口

```python
from common.data_source.interfaces import DataSourceConnector

class SlackConnector(DataSourceConnector):
    def fetch_documents(self):
        """获取文档列表"""
        pass
    
    def sync_document(self, doc_id):
        """同步单个文档"""
        pass
```

## 使用示例

### Slack 集成

```python
from common.data_source.slack_connector import SlackConnector

connector = SlackConnector(
    workspace="my-workspace",
    bot_token="xoxb-xxxxxxxxxxxxx"
)

# 同步频道消息
messages = connector.fetch_messages(channel_id="C01234567")
```

### Google Drive 集成

```python
from common.data_source.google_drive import GoogleDriveConnector

connector = GoogleDriveConnector(
    credentials_path="/path/to/credentials.json"
)

# 列出文件
files = connector.list_files(folder_id="folder_id")
```

## Discord 服务器

RAGFlow 提供 Discord 服务器集成：

**文件**：[rag/svr/discord_svr.py](../../rag/svr/discord_svr.py)

## 参考文档

- [Slack API](https://api.slack.com/)
- [Discord API](https://discord.com/developers/docs)
- [Google Drive API](https://developers.google.com/drive)

## 许可证

遵循项目主许可证 [Apache 2.0](../../LICENSE)
