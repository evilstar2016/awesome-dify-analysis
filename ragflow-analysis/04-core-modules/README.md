# æ ¸å¿ƒæ¨¡å—è¯¦ç»†åˆ†æ

æœ¬ç›®å½•åŒ…å« RAGFlow é¡¹ç›®æ ¸å¿ƒæ¨¡å—çš„æ·±åº¦åˆ†ææ–‡æ¡£å’Œæµç¨‹å›¾ã€‚

## ğŸ“‹ å·²å®Œæˆæ¨¡å—

### âœ… 01 - çŸ¥è¯†åº“ç®¡ç†æ¨¡å— ([knowledge-base](./01-knowledge-base/))
- **README**: âœ… æ¨¡å—æ¦‚è¿°ã€åŠŸèƒ½åˆ—è¡¨ã€APIæ¥å£ã€æ•°æ®æ¨¡å‹
- **åŠŸèƒ½æ–‡æ¡£**: âœ… [knowledge-base-management.md](./01-knowledge-base/knowledge-base-management.md)
- **æ—¶åºå›¾**: âœ… 6ä¸ªå®Œæ•´æ—¶åºå›¾
  - [åˆ›å»ºçŸ¥è¯†åº“æµç¨‹](./01-knowledge-base/01-create-kb-sequence.puml)
  - [æ–‡æ¡£ä¸Šä¼ æµç¨‹](./01-knowledge-base/02-upload-document-sequence.puml)
  - [æ–‡æ¡£è§£ææµç¨‹](./01-knowledge-base/03-parse-document-sequence.puml)
  - [å‘é‡æœç´¢æµç¨‹](./01-knowledge-base/04-vector-search-sequence.puml)
  - [æ›´æ–°çŸ¥è¯†åº“æµç¨‹](./01-knowledge-base/05-update-kb-sequence.puml)
  - [åˆ é™¤çŸ¥è¯†åº“æµç¨‹](./01-knowledge-base/06-delete-kb-sequence.puml)
- **æ ¸å¿ƒä»·å€¼**: æ–‡æ¡£å­˜å‚¨ã€ç´¢å¼•ã€æ£€ç´¢çš„åŸºç¡€è®¾æ–½

### âœ… 02 - å¯¹è¯ç³»ç»Ÿæ¨¡å— ([chat-dialog](./02-chat-dialog/))
- **README**: âœ… æ¨¡å—æ¦‚è¿°ã€åŠŸèƒ½åˆ—è¡¨ã€APIæ¥å£ã€æ•°æ®æ¨¡å‹
- **åŠŸèƒ½æ–‡æ¡£**: âœ… [chat-dialog-management.md](./02-chat-dialog/chat-dialog-management.md)
- **æ—¶åºå›¾**: âœ… 5ä¸ªå®Œæ•´æ—¶åºå›¾
  - [åˆ›å»ºå¯¹è¯æµç¨‹](./02-chat-dialog/01-create-dialog-sequence.puml)
  - [åŒæ­¥å¯¹è¯æµç¨‹](./02-chat-dialog/02-sync-chat-sequence.puml)
  - [æµå¼å¯¹è¯æµç¨‹](./02-chat-dialog/03-stream-chat-sequence.puml)
  - [æ¶ˆæ¯åé¦ˆæµç¨‹](./02-chat-dialog/04-message-feedback-sequence.puml)
  - [æ£€ç´¢é›†æˆæµç¨‹](./02-chat-dialog/05-retrieval-integration-sequence.puml)
- **æ ¸å¿ƒä»·å€¼**: å¯¹è¯åŠ©æ‰‹ç®¡ç†ã€å®æ—¶æµå¼å¯¹è¯ã€å†å²ç®¡ç†ã€æç¤ºè¯å·¥ç¨‹

### âœ… 03 - Agent ç³»ç»Ÿæ¨¡å— ([agent](./03-agent/))
- **README**: âœ… æ¨¡å—æ¦‚è¿°ã€åŠŸèƒ½åˆ—è¡¨ã€APIæ¥å£ã€æ•°æ®æ¨¡å‹
- **åŠŸèƒ½æ–‡æ¡£**: âœ… 3ä¸ªè¯¦ç»†åŠŸèƒ½æ–‡æ¡£
  - [ç»„ä»¶ç®¡ç†](./03-agent/component-management.md)
  - [å·¥å…·é›†æˆ](./03-agent/tool-integration.md)
  - [Canvas è®¾è®¡](./03-agent/canvas-design.md)
- **å¼€å‘æŒ‡å—**: âœ… [agent-development-guide.md](./03-agent/agent-development-guide.md)
- **æ—¶åºå›¾**: âœ… 4ä¸ªå®Œæ•´æ—¶åºå›¾
  - [Canvas æ‰§è¡Œæµç¨‹](./03-agent/01-canvas-execution-sequence.puml)
  - [å·¥å…·è°ƒç”¨æµç¨‹](./03-agent/02-tool-calling-sequence.puml)
  - [ç»„ä»¶é€šä¿¡æµç¨‹](./03-agent/03-component-communication-sequence.puml)
  - [Agent æ¨ç†æµç¨‹](./03-agent/04-agent-reasoning-sequence.puml)
- **æ ¸å¿ƒä»·å€¼**: Agent ç”»å¸ƒè®¾è®¡ã€å·¥ä½œæµæ‰§è¡Œã€å·¥å…·è°ƒç”¨ã€å¤šæ­¥æ¨ç†

### âœ… 04 - æ–‡æ¡£è§£ææ¨¡å— ([document-parsing](./04-document-parsing/))
- **README**: âœ… æ¨¡å—æ¦‚è¿°ã€åŠŸèƒ½åˆ—è¡¨ã€APIæ¥å£ã€æ•°æ®æ¨¡å‹
- **åŠŸèƒ½æ–‡æ¡£**: âœ… [document-parsing-management.md](./04-document-parsing/document-parsing-management.md)
- **æ—¶åºå›¾**: âœ… 3ä¸ªå®Œæ•´æ—¶åºå›¾
  - [PDF è§£ææµç¨‹](./04-document-parsing/01-pdf-parsing-sequence.puml)
  - [OCR è¯†åˆ«æµç¨‹](./04-document-parsing/02-ocr-recognition-sequence.puml)
  - [è¡¨æ ¼æå–æµç¨‹](./04-document-parsing/03-table-extraction-sequence.puml)
- **æ ¸å¿ƒä»·å€¼**: å¤šæ ¼å¼è§£æã€OCR è¯†åˆ«ã€è¡¨æ ¼æå–ã€ç‰ˆé¢åˆ†æ

### âœ… 05 - RAG æ£€ç´¢å¼•æ“æ¨¡å— ([rag-retrieval](./05-rag-retrieval/))
- **README**: âœ… æ¨¡å—æ¦‚è¿°ã€åŠŸèƒ½åˆ—è¡¨ã€APIæ¥å£ã€æ•°æ®æ¨¡å‹
- **åŠŸèƒ½æ–‡æ¡£**: âœ… [rag-retrieval-management.md](./05-rag-retrieval/rag-retrieval-management.md)
- **æ—¶åºå›¾**: âœ… 3ä¸ªå®Œæ•´æ—¶åºå›¾
  - [æ··åˆæ£€ç´¢æµç¨‹](./05-rag-retrieval/01-hybrid-search-sequence.puml)
  - [é‡æ’åºæµç¨‹](./05-rag-retrieval/02-reranking-sequence.puml)
  - [ä¸Šä¸‹æ–‡ç»„è£…æµç¨‹](./05-rag-retrieval/03-context-assembly-sequence.puml)
- **æ ¸å¿ƒä»·å€¼**: æ··åˆæ£€ç´¢ã€é‡æ’åºã€ä¸Šä¸‹æ–‡ç»„è£…ã€ç­”æ¡ˆç”Ÿæˆ

### âœ… 06 - æƒé™ç®¡ç†æ¨¡å— ([permission-management](./06-permission-management/))
- **README**: âœ… æ¨¡å—æ¦‚è¿°ã€åŠŸèƒ½åˆ—è¡¨ã€APIæ¥å£ã€æ•°æ®æ¨¡å‹
- **åŠŸèƒ½æ–‡æ¡£**: âœ… [permission-management-system.md](./06-permission-management/permission-management-system.md)
- **æ¶æ„å›¾**: âœ… 5ä¸ªå®Œæ•´æ¶æ„å’Œæµç¨‹å›¾
  - [æƒé™æ¶æ„è®¾è®¡](./06-permission-management/permission-architecture.puml)
  - [è®¤è¯æµç¨‹](./06-permission-management/permission-auth-flow.puml)
  - [æ•°æ®æ¨¡å‹](./06-permission-management/permission-data-model.puml)
  - [çŸ¥è¯†åº“è®¿é—®æ§åˆ¶](./06-permission-management/permission-kb-access.puml)
  - [OAuth æµç¨‹](./06-permission-management/permission-oauth-flow.puml)
- **æ ¸å¿ƒä»·å€¼**: èº«ä»½è®¤è¯ã€è®¿é—®æ§åˆ¶ã€èµ„æºæƒé™ã€å¤šç§Ÿæˆ·éš”ç¦»

### âœ… 07 - å›¾æ£€ç´¢æ¨¡å— ([graph-retrieval](./07-graph-retrieval/))
- **æ—¶åºå›¾**: âœ… 2ä¸ªå®Œæ•´æ—¶åºå›¾
  - [å›¾è°±æ„å»ºæµç¨‹](./07-graph-retrieval/05-build-graph-sequence.puml)
  - [GraphRAG æ£€ç´¢æµç¨‹](./07-graph-retrieval/06-graphrag-retrieval-sequence.puml)
- **åŠŸèƒ½æ–‡æ¡£**: âœ… 2ä¸ªè¯¦ç»†è¯´æ˜æ–‡æ¡£
  - [GraphRAG æ£€ç´¢æµç¨‹](./07-graph-retrieval/06-graphrag-retrieval-flow.md)
  - [GraphRAG ç¤ºä¾‹å·¥ä½œæµ](./07-graph-retrieval/07-graphrag-example-workflow.md)
- **æ ¸å¿ƒä»·å€¼**: çŸ¥è¯†å›¾è°±æ£€ç´¢ã€å®ä½“å…³ç³»æ¨ç†ã€æ·±åº¦ç ”ç©¶èƒ½åŠ›

## ğŸ“ å…¶ä»–åˆ†æ

### âœ… æ’ä»¶ç³»ç»Ÿåˆ†æ
- **æ–‡æ¡£**: âœ… [plugin-system-analysis.md](./plugin-system-analysis.md)
- **æ ¸å¿ƒä»·å€¼**: æ’ä»¶æ¶æ„ã€æ‰©å±•æœºåˆ¶ã€ç¬¬ä¸‰æ–¹é›†æˆ

---

## ğŸ“Š æ¨¡å—å…³ç³»å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ç”¨æˆ·ç•Œé¢ (Frontend)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                   â”‚              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¯¹è¯ç³»ç»Ÿæ¨¡å—   â”‚  â”‚  Agentæ¨¡å—    â”‚  â”‚ æƒé™ç®¡ç†     â”‚
â”‚   (Chat)       â”‚  â”‚  (Agent)      â”‚  â”‚ (Permission) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   RAGæ£€ç´¢å¼•æ“            â”‚
        â”‚  (Retrieval)            â”‚
        â”‚  + å›¾æ£€ç´¢ (GraphRAG)     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                         â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ çŸ¥è¯†åº“ç®¡ç†    â”‚    â”‚  æ–‡æ¡£è§£ææ¨¡å—    â”‚
â”‚ (KB Module)  â”‚    â”‚  (Parsing)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ åˆ†ææ ‡å‡†

æ¯ä¸ªæ ¸å¿ƒæ¨¡å—åŒ…å«ï¼š

### å¿…éœ€æ–‡æ¡£
1. **README.md**
   - æ¨¡å—æ¦‚è¿°
   - ä¸»è¦åŠŸèƒ½åˆ—è¡¨
   - ç›®å½•ç»“æ„
   - æ•°æ®æ¨¡å‹
   - API æ¥å£
   - æŠ€æœ¯æ ˆ
   - ä¾èµ–å…³ç³»

2. **åŠŸèƒ½è¯¦ç»†è¯´æ˜æ–‡æ¡£**
   - ä¸šåŠ¡æµç¨‹
   - æŠ€æœ¯å®ç°
   - é…ç½®å‚æ•°
   - æœ€ä½³å®è·µ

3. **æ—¶åºå›¾ (.puml)**
   - æ ¸å¿ƒä¸šåŠ¡æµç¨‹
   - ä½¿ç”¨ç»Ÿä¸€æ ·å¼
   - æ¸…æ™°æ ‡æ³¨å‚ä¸è€…
   - å…³é”®å†³ç­–ç‚¹

---

## ğŸ“ˆ è¿›åº¦ç»Ÿè®¡

| æ¨¡å— | README | åŠŸèƒ½æ–‡æ¡£ | æ—¶åºå›¾/æ¶æ„å›¾ | å®Œæˆåº¦ |
|------|--------|---------|-------------|-------|
| 01-çŸ¥è¯†åº“ç®¡ç† | âœ… | âœ… 1ç¯‡ | âœ… 6ä¸ª | 100% |
| 02-å¯¹è¯ç³»ç»Ÿ | âœ… | âœ… 1ç¯‡ | âœ… 5ä¸ª | 100% |
| 03-Agentç³»ç»Ÿ | âœ… | âœ… 3ç¯‡ + å¼€å‘æŒ‡å— | âœ… 4ä¸ª | 100% |
| 04-æ–‡æ¡£è§£æ | âœ… | âœ… 1ç¯‡ | âœ… 3ä¸ª | 100% |
| 05-RAGæ£€ç´¢ | âœ… | âœ… 1ç¯‡ | âœ… 3ä¸ª | 100% |
| 06-æƒé™ç®¡ç† | âœ… | âœ… 1ç¯‡ | âœ… 5ä¸ª | 100% |
| 07-å›¾æ£€ç´¢ | - | âœ… 2ç¯‡ | âœ… 2ä¸ª | 100% |
| æ’ä»¶ç³»ç»Ÿ | - | âœ… 1ç¯‡ | - | 100% |

**æ€»ä½“è¿›åº¦**: 100% âœ…
- **README**: 6/6 å®Œæˆ
- **åŠŸèƒ½æ–‡æ¡£**: 11ç¯‡å®Œæˆ
- **æ—¶åºå›¾/æ¶æ„å›¾**: 28ä¸ªå®Œæˆ
- **å¼€å‘æŒ‡å—**: 1ç¯‡å®Œæˆ

---

## ğŸ” ä½¿ç”¨æŒ‡å—

### æŸ¥çœ‹æ—¶åºå›¾
1. å®‰è£… PlantUML æ’ä»¶ï¼ˆVS Code: `jebbs.plantuml`ï¼‰
2. æ‰“å¼€ `.puml` æ–‡ä»¶
3. æŒ‰ `Alt+D` é¢„è§ˆå›¾è¡¨

### åœ¨çº¿é¢„è§ˆ
ä½¿ç”¨ PlantUML åœ¨çº¿æœåŠ¡å™¨ï¼š
```
http://www.plantuml.com/plantuml/uml/
```
å°† `.puml` æ–‡ä»¶å†…å®¹ç²˜è´´å³å¯é¢„è§ˆã€‚

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [é¡¹ç›®æ¦‚è§ˆ](../01-overview/project-overview.md)
- [ç³»ç»Ÿæ¶æ„](../02-architecture/system-architecture.md)
- [åˆ†å±‚æ¶æ„](../03-layers/README.md)

---

## ğŸ“ æ–‡æ¡£è§„èŒƒ

### æ—¶åºå›¾è§„èŒƒ
- ä½¿ç”¨ç»Ÿä¸€çš„ PlantUML æ ·å¼ï¼ˆè§ `.github/analysis-instructions/puml-styles.md`ï¼‰
- æ¸…æ™°æ ‡æ³¨å‚ä¸è€…è§’è‰²
- ä½¿ç”¨ `activate/deactivate` æ˜¾ç¤ºç”Ÿå‘½å‘¨æœŸ
- æ·»åŠ  `note` è¯´æ˜å…³é”®é€»è¾‘

### å‘½åè§„èŒƒ
- ç›®å½•å‘½å: `{åºå·}-{è‹±æ–‡åç§°}` (å¦‚ `01-knowledge-base`)
- æ—¶åºå›¾å‘½å: `{åºå·}-{æµç¨‹å}-sequence.puml`
- æ–‡æ¡£å‘½å: `{åŠŸèƒ½å}-management.md`

---

## âœ… å·²å®Œæˆå·¥ä½œ

### æ ¸å¿ƒæ¨¡å—åˆ†æï¼ˆ7ä¸ªæ¨¡å—ï¼‰
1. âœ… **çŸ¥è¯†åº“ç®¡ç†æ¨¡å—** - å®Œæ•´æ–‡æ¡£å’Œ6ä¸ªæ—¶åºå›¾
2. âœ… **å¯¹è¯ç³»ç»Ÿæ¨¡å—** - å®Œæ•´æ–‡æ¡£å’Œ5ä¸ªæ—¶åºå›¾
3. âœ… **Agent ç³»ç»Ÿæ¨¡å—** - 3ç¯‡åŠŸèƒ½æ–‡æ¡£ã€1ç¯‡å¼€å‘æŒ‡å—ã€4ä¸ªæ—¶åºå›¾
4. âœ… **æ–‡æ¡£è§£ææ¨¡å—** - å®Œæ•´æ–‡æ¡£å’Œ3ä¸ªæ—¶åºå›¾
5. âœ… **RAG æ£€ç´¢å¼•æ“æ¨¡å—** - å®Œæ•´æ–‡æ¡£å’Œ3ä¸ªæ—¶åºå›¾
6. âœ… **æƒé™ç®¡ç†æ¨¡å—** - å®Œæ•´æ–‡æ¡£å’Œ5ä¸ªæ¶æ„å›¾
7. âœ… **å›¾æ£€ç´¢æ¨¡å—** - 2ç¯‡åŠŸèƒ½æ–‡æ¡£å’Œ2ä¸ªæ—¶åºå›¾

### æˆæœæ€»ç»“
- âœ… **6ä¸ª README æ–‡æ¡£** - æ¨¡å—æ¦‚è§ˆã€åŠŸèƒ½æ¸…å•ã€æŠ€æœ¯æ ˆ
- âœ… **11ç¯‡åŠŸèƒ½è¯¦ç»†æ–‡æ¡£** - ä¸šåŠ¡æµç¨‹ã€æ•°æ®æ¨¡å‹ã€API æ¥å£
- âœ… **1ç¯‡å¼€å‘æŒ‡å—** - Agent ç³»ç»Ÿå¼€å‘æœ€ä½³å®è·µ
- âœ… **28ä¸ªæ—¶åºå›¾/æ¶æ„å›¾** - æ ¸å¿ƒæµç¨‹å¯è§†åŒ–
- âœ… **1ç¯‡æ’ä»¶ç³»ç»Ÿåˆ†æ** - æ‰©å±•æœºåˆ¶è¯´æ˜

### æ–‡æ¡£ç‰¹è‰²
- ğŸ“Š **ç²¾ç®€é«˜æ•ˆ** - ä½¿ç”¨è¡¨æ ¼å’Œåˆ—è¡¨ï¼Œé¿å…å†—é•¿ä»£ç 
- ğŸ”— **æ ‡æ³¨ä½ç½®** - æ ‡æ³¨æ–‡ä»¶è·¯å¾„å’Œè¡Œå·ï¼Œä¾¿äºå®šä½
- ğŸ¨ **ç»Ÿä¸€é£æ ¼** - éµå¾ª PlantUML æ ·å¼è§„èŒƒ
- ğŸ’¡ **å®ç”¨å¯¼å‘** - æä¾›é…ç½®ç¤ºä¾‹å’Œæœ€ä½³å®è·µ

---

**è´Ÿè´£äºº**: RAGFlow å›¢é˜Ÿ  
**æœ€åæ›´æ–°**: 2025-12-26  
**çŠ¶æ€**: âœ… å·²å®Œæˆ (100%)
